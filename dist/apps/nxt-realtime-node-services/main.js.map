{"version":3,"file":"main.js","mappings":"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","sources":["webpack://socket/./node_modules/@socket.io/component-emitter/index.js","webpack://socket/./node_modules/anymatch/index.js","webpack://socket/./node_modules/backo2/index.js","webpack://socket/./node_modules/binary-extensions/index.js","webpack://socket/./node_modules/braces/index.js","webpack://socket/./node_modules/braces/lib/compile.js","webpack://socket/./node_modules/braces/lib/constants.js","webpack://socket/./node_modules/braces/lib/expand.js","webpack://socket/./node_modules/braces/lib/parse.js","webpack://socket/./node_modules/braces/lib/stringify.js","webpack://socket/./node_modules/braces/lib/utils.js","webpack://socket/./node_modules/bufferutil/fallback.js","webpack://socket/./node_modules/bufferutil/index.js","webpack://socket/./node_modules/chokidar/index.js","webpack://socket/./node_modules/chokidar/lib/constants.js","webpack://socket/./node_modules/chokidar/lib/fsevents-handler.js","webpack://socket/./node_modules/chokidar/lib/nodefs-handler.js","webpack://socket/./node_modules/debug/src/browser.js","webpack://socket/./node_modules/debug/src/common.js","webpack://socket/./node_modules/debug/src/index.js","webpack://socket/./node_modules/debug/src/node.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/index.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/constants.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/event-target.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/extension.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/limiter.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/receiver.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/sender.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/stream.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/subprotocol.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/validation.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js","webpack://socket/./node_modules/engine.io-client/node_modules/ws/lib/websocket.js","webpack://socket/./node_modules/fill-range/index.js","webpack://socket/./node_modules/fsevents/fsevents.js","webpack://socket/./node_modules/glob-parent/index.js","webpack://socket/./node_modules/has-flag/index.js","webpack://socket/./node_modules/is-binary-path/index.js","webpack://socket/./node_modules/is-extglob/index.js","webpack://socket/./node_modules/is-glob/index.js","webpack://socket/./node_modules/is-number/index.js","webpack://socket/./node_modules/ms/index.js","webpack://socket/./node_modules/node-gyp-build/index.js","webpack://socket/./node_modules/fsevents/fsevents.node","webpack://socket/./node_modules/normalize-path/index.js","webpack://socket/./node_modules/parseqs/index.js","webpack://socket/./node_modules/parseuri/index.js","webpack://socket/./node_modules/picomatch/index.js","webpack://socket/./node_modules/picomatch/lib/constants.js","webpack://socket/./node_modules/picomatch/lib/parse.js","webpack://socket/./node_modules/picomatch/lib/picomatch.js","webpack://socket/./node_modules/picomatch/lib/scan.js","webpack://socket/./node_modules/picomatch/lib/utils.js","webpack://socket/./node_modules/readdirp/index.js","webpack://socket/./node_modules/supports-color/index.js","webpack://socket/./node_modules/to-regex-range/index.js","webpack://socket/./libs/node-services/logger/src/index.ts","webpack://socket/./libs/node-services/logger/src/lib/loggerNodeService.ts","webpack://socket/./libs/node-services/teranex/src/index.ts","webpack://socket/./libs/node-services/teranex/src/lib/device.ts","webpack://socket/./libs/node-services/teranex/src/lib/teranexNodeService.ts","webpack://socket/./libs/shared/types/src/index.ts","webpack://socket/./libs/shared/types/src/lib/logger.ts","webpack://socket/./libs/shared/types/src/lib/nodeService.ts","webpack://socket/./libs/shared/utils/src/index.ts","webpack://socket/./libs/shared/utils/src/lib/nodeUtils.ts","webpack://socket/./node_modules/tslib/tslib.es6.js","webpack://socket/./node_modules/utf-8-validate/fallback.js","webpack://socket/./node_modules/utf-8-validate/index.js","webpack://socket/./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","webpack://socket/./node_modules/yeast/index.js","webpack://socket/external node-commonjs \"child_process\"","webpack://socket/external node-commonjs \"crypto\"","webpack://socket/external node-commonjs \"events\"","webpack://socket/external node-commonjs \"fs\"","webpack://socket/external node-commonjs \"http\"","webpack://socket/external node-commonjs \"https\"","webpack://socket/external node-commonjs \"net\"","webpack://socket/external node-commonjs \"os\"","webpack://socket/external node-commonjs \"path\"","webpack://socket/external node-commonjs \"stream\"","webpack://socket/external node-commonjs \"tls\"","webpack://socket/external node-commonjs \"tty\"","webpack://socket/external node-commonjs \"url\"","webpack://socket/external node-commonjs \"util\"","webpack://socket/external node-commonjs \"zlib\"","webpack://socket/./node_modules/engine.io-client/build/cjs/globalThis.js","webpack://socket/./node_modules/engine.io-client/build/cjs/index.js","webpack://socket/./node_modules/engine.io-client/build/cjs/socket.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transport.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/index.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/polling.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/websocket.js","webpack://socket/./node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.js","webpack://socket/./node_modules/engine.io-client/build/cjs/util.js","webpack://socket/./node_modules/engine.io-parser/build/cjs/commons.js","webpack://socket/./node_modules/engine.io-parser/build/cjs/decodePacket.js","webpack://socket/./node_modules/engine.io-parser/build/cjs/encodePacket.js","webpack://socket/./node_modules/engine.io-parser/build/cjs/index.js","webpack://socket/./node_modules/socket.io-client/build/cjs/index.js","webpack://socket/./node_modules/socket.io-client/build/cjs/manager.js","webpack://socket/./node_modules/socket.io-client/build/cjs/on.js","webpack://socket/./node_modules/socket.io-client/build/cjs/socket.js","webpack://socket/./node_modules/socket.io-client/build/cjs/url.js","webpack://socket/./node_modules/socket.io-client/node_modules/socket.io-parser/build/cjs/binary.js","webpack://socket/./node_modules/socket.io-client/node_modules/socket.io-parser/build/cjs/index.js","webpack://socket/./node_modules/socket.io-client/node_modules/socket.io-parser/build/cjs/is-binary.js","webpack://socket/webpack/bootstrap","webpack://socket/webpack/runtime/define property getters","webpack://socket/webpack/runtime/hasOwnProperty shorthand","webpack://socket/webpack/runtime/make namespace object","webpack://socket/webpack/runtime/node module decorator","webpack://socket/webpack/runtime/publicPath","webpack://socket/./apps/nxt-realtime-node-services/src/main.ts"],"sourcesContent":["\n/**\n * Expose `Emitter`.\n */\n\nexports.Emitter = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nconst picomatch = require('picomatch');\nconst normalizePath = require('normalize-path');\n\n/**\n * @typedef {(testString: string) => boolean} AnymatchFn\n * @typedef {string|RegExp|AnymatchFn} AnymatchPattern\n * @typedef {AnymatchPattern|AnymatchPattern[]} AnymatchMatcher\n */\nconst BANG = '!';\nconst DEFAULT_OPTIONS = {returnIndex: false};\nconst arrify = (item) => Array.isArray(item) ? item : [item];\n\n/**\n * @param {AnymatchPattern} matcher\n * @param {object} options\n * @returns {AnymatchFn}\n */\nconst createPattern = (matcher, options) => {\n  if (typeof matcher === 'function') {\n    return matcher;\n  }\n  if (typeof matcher === 'string') {\n    const glob = picomatch(matcher, options);\n    return (string) => matcher === string || glob(string);\n  }\n  if (matcher instanceof RegExp) {\n    return (string) => matcher.test(string);\n  }\n  return (string) => false;\n};\n\n/**\n * @param {Array<Function>} patterns\n * @param {Array<Function>} negPatterns\n * @param {String|Array} args\n * @param {Boolean} returnIndex\n * @returns {boolean|number}\n */\nconst matchPatterns = (patterns, negPatterns, args, returnIndex) => {\n  const isList = Array.isArray(args);\n  const _path = isList ? args[0] : args;\n  if (!isList && typeof _path !== 'string') {\n    throw new TypeError('anymatch: second argument must be a string: got ' +\n      Object.prototype.toString.call(_path))\n  }\n  const path = normalizePath(_path);\n\n  for (let index = 0; index < negPatterns.length; index++) {\n    const nglob = negPatterns[index];\n    if (nglob(path)) {\n      return returnIndex ? -1 : false;\n    }\n  }\n\n  const applied = isList && [path].concat(args.slice(1));\n  for (let index = 0; index < patterns.length; index++) {\n    const pattern = patterns[index];\n    if (isList ? pattern(...applied) : pattern(path)) {\n      return returnIndex ? index : true;\n    }\n  }\n\n  return returnIndex ? -1 : false;\n};\n\n/**\n * @param {AnymatchMatcher} matchers\n * @param {Array|string} testString\n * @param {object} options\n * @returns {boolean|number|Function}\n */\nconst anymatch = (matchers, testString, options = DEFAULT_OPTIONS) => {\n  if (matchers == null) {\n    throw new TypeError('anymatch: specify first argument');\n  }\n  const opts = typeof options === 'boolean' ? {returnIndex: options} : options;\n  const returnIndex = opts.returnIndex || false;\n\n  // Early cache for matchers.\n  const mtchers = arrify(matchers);\n  const negatedGlobs = mtchers\n    .filter(item => typeof item === 'string' && item.charAt(0) === BANG)\n    .map(item => item.slice(1))\n    .map(item => picomatch(item, opts));\n  const patterns = mtchers\n    .filter(item => typeof item !== 'string' || (typeof item === 'string' && item.charAt(0) !== BANG))\n    .map(matcher => createPattern(matcher, opts));\n\n  if (testString == null) {\n    return (testString, ri = false) => {\n      const returnIndex = typeof ri === 'boolean' ? ri : false;\n      return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n    }\n  }\n\n  return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\n};\n\nanymatch.default = anymatch;\nmodule.exports = anymatch;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","module.exports = require('./binary-extensions.json');\n","'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n","'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n","'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n","'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n","'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n","'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n","'use strict';\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nconst mask = (source, mask, output, offset, length) => {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n};\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nconst unmask = (buffer, mask) => {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n};\n\nmodule.exports = { mask, unmask };\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","'use strict';\n\nconst { EventEmitter } = require('events');\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst readdirp = require('readdirp');\nconst anymatch = require('anymatch').default;\nconst globParent = require('glob-parent');\nconst isGlob = require('is-glob');\nconst braces = require('braces');\nconst normalizePath = require('normalize-path');\n\nconst NodeFsHandler = require('./lib/nodefs-handler');\nconst FsEventsHandler = require('./lib/fsevents-handler');\nconst {\n  EV_ALL,\n  EV_READY,\n  EV_ADD,\n  EV_CHANGE,\n  EV_UNLINK,\n  EV_ADD_DIR,\n  EV_UNLINK_DIR,\n  EV_RAW,\n  EV_ERROR,\n\n  STR_CLOSE,\n  STR_END,\n\n  BACK_SLASH_RE,\n  DOUBLE_SLASH_RE,\n  SLASH_OR_BACK_SLASH_RE,\n  DOT_RE,\n  REPLACER_RE,\n\n  SLASH,\n  SLASH_SLASH,\n  BRACE_START,\n  BANG,\n  ONE_DOT,\n  TWO_DOTS,\n  GLOBSTAR,\n  SLASH_GLOBSTAR,\n  ANYMATCH_OPTS,\n  STRING_TYPE,\n  FUNCTION_TYPE,\n  EMPTY_STR,\n  EMPTY_FN,\n\n  isWindows,\n  isMacos,\n  isIBMi\n} = require('./lib/constants');\n\nconst stat = promisify(fs.stat);\nconst readdir = promisify(fs.readdir);\n\n/**\n * @typedef {String} Path\n * @typedef {'all'|'add'|'addDir'|'change'|'unlink'|'unlinkDir'|'raw'|'error'|'ready'} EventName\n * @typedef {'readdir'|'watch'|'add'|'remove'|'change'} ThrottleType\n */\n\n/**\n *\n * @typedef {Object} WatchHelpers\n * @property {Boolean} followSymlinks\n * @property {'stat'|'lstat'} statMethod\n * @property {Path} path\n * @property {Path} watchPath\n * @property {Function} entryPath\n * @property {Boolean} hasGlob\n * @property {Object} globFilter\n * @property {Function} filterPath\n * @property {Function} filterDir\n */\n\nconst arrify = (value = []) => Array.isArray(value) ? value : [value];\nconst flatten = (list, result = []) => {\n  list.forEach(item => {\n    if (Array.isArray(item)) {\n      flatten(item, result);\n    } else {\n      result.push(item);\n    }\n  });\n  return result;\n};\n\nconst unifyPaths = (paths_) => {\n  /**\n   * @type {Array<String>}\n   */\n  const paths = flatten(arrify(paths_));\n  if (!paths.every(p => typeof p === STRING_TYPE)) {\n    throw new TypeError(`Non-string provided as watch path: ${paths}`);\n  }\n  return paths.map(normalizePathToUnix);\n};\n\n// If SLASH_SLASH occurs at the beginning of path, it is not replaced\n//     because \"//StoragePC/DrivePool/Movies\" is a valid network path\nconst toUnix = (string) => {\n  let str = string.replace(BACK_SLASH_RE, SLASH);\n  let prepend = false;\n  if (str.startsWith(SLASH_SLASH)) {\n    prepend = true;\n  }\n  while (str.match(DOUBLE_SLASH_RE)) {\n    str = str.replace(DOUBLE_SLASH_RE, SLASH);\n  }\n  if (prepend) {\n    str = SLASH + str;\n  }\n  return str;\n};\n\n// Our version of upath.normalize\n// TODO: this is not equal to path-normalize module - investigate why\nconst normalizePathToUnix = (path) => toUnix(sysPath.normalize(toUnix(path)));\n\nconst normalizeIgnored = (cwd = EMPTY_STR) => (path) => {\n  if (typeof path !== STRING_TYPE) return path;\n  return normalizePathToUnix(sysPath.isAbsolute(path) ? path : sysPath.join(cwd, path));\n};\n\nconst getAbsolutePath = (path, cwd) => {\n  if (sysPath.isAbsolute(path)) {\n    return path;\n  }\n  if (path.startsWith(BANG)) {\n    return BANG + sysPath.join(cwd, path.slice(1));\n  }\n  return sysPath.join(cwd, path);\n};\n\nconst undef = (opts, key) => opts[key] === undefined;\n\n/**\n * Directory entry.\n * @property {Path} path\n * @property {Set<Path>} items\n */\nclass DirEntry {\n  /**\n   * @param {Path} dir\n   * @param {Function} removeWatcher\n   */\n  constructor(dir, removeWatcher) {\n    this.path = dir;\n    this._removeWatcher = removeWatcher;\n    /** @type {Set<Path>} */\n    this.items = new Set();\n  }\n\n  add(item) {\n    const {items} = this;\n    if (!items) return;\n    if (item !== ONE_DOT && item !== TWO_DOTS) items.add(item);\n  }\n\n  async remove(item) {\n    const {items} = this;\n    if (!items) return;\n    items.delete(item);\n    if (items.size > 0) return;\n\n    const dir = this.path;\n    try {\n      await readdir(dir);\n    } catch (err) {\n      if (this._removeWatcher) {\n        this._removeWatcher(sysPath.dirname(dir), sysPath.basename(dir));\n      }\n    }\n  }\n\n  has(item) {\n    const {items} = this;\n    if (!items) return;\n    return items.has(item);\n  }\n\n  /**\n   * @returns {Array<String>}\n   */\n  getChildren() {\n    const {items} = this;\n    if (!items) return;\n    return [...items.values()];\n  }\n\n  dispose() {\n    this.items.clear();\n    delete this.path;\n    delete this._removeWatcher;\n    delete this.items;\n    Object.freeze(this);\n  }\n}\n\nconst STAT_METHOD_F = 'stat';\nconst STAT_METHOD_L = 'lstat';\nclass WatchHelper {\n  constructor(path, watchPath, follow, fsw) {\n    this.fsw = fsw;\n    this.path = path = path.replace(REPLACER_RE, EMPTY_STR);\n    this.watchPath = watchPath;\n    this.fullWatchPath = sysPath.resolve(watchPath);\n    this.hasGlob = watchPath !== path;\n    /** @type {object|boolean} */\n    if (path === EMPTY_STR) this.hasGlob = false;\n    this.globSymlink = this.hasGlob && follow ? undefined : false;\n    this.globFilter = this.hasGlob ? anymatch(path, undefined, ANYMATCH_OPTS) : false;\n    this.dirParts = this.getDirParts(path);\n    this.dirParts.forEach((parts) => {\n      if (parts.length > 1) parts.pop();\n    });\n    this.followSymlinks = follow;\n    this.statMethod = follow ? STAT_METHOD_F : STAT_METHOD_L;\n  }\n\n  checkGlobSymlink(entry) {\n    // only need to resolve once\n    // first entry should always have entry.parentDir === EMPTY_STR\n    if (this.globSymlink === undefined) {\n      this.globSymlink = entry.fullParentDir === this.fullWatchPath ?\n        false : {realPath: entry.fullParentDir, linkPath: this.fullWatchPath};\n    }\n\n    if (this.globSymlink) {\n      return entry.fullPath.replace(this.globSymlink.realPath, this.globSymlink.linkPath);\n    }\n\n    return entry.fullPath;\n  }\n\n  entryPath(entry) {\n    return sysPath.join(this.watchPath,\n      sysPath.relative(this.watchPath, this.checkGlobSymlink(entry))\n    );\n  }\n\n  filterPath(entry) {\n    const {stats} = entry;\n    if (stats && stats.isSymbolicLink()) return this.filterDir(entry);\n    const resolvedPath = this.entryPath(entry);\n    const matchesGlob = this.hasGlob && typeof this.globFilter === FUNCTION_TYPE ?\n      this.globFilter(resolvedPath) : true;\n    return matchesGlob &&\n      this.fsw._isntIgnored(resolvedPath, stats) &&\n      this.fsw._hasReadPermissions(stats);\n  }\n\n  getDirParts(path) {\n    if (!this.hasGlob) return [];\n    const parts = [];\n    const expandedPath = path.includes(BRACE_START) ? braces.expand(path) : [path];\n    expandedPath.forEach((path) => {\n      parts.push(sysPath.relative(this.watchPath, path).split(SLASH_OR_BACK_SLASH_RE));\n    });\n    return parts;\n  }\n\n  filterDir(entry) {\n    if (this.hasGlob) {\n      const entryParts = this.getDirParts(this.checkGlobSymlink(entry));\n      let globstar = false;\n      this.unmatchedGlob = !this.dirParts.some((parts) => {\n        return parts.every((part, i) => {\n          if (part === GLOBSTAR) globstar = true;\n          return globstar || !entryParts[0][i] || anymatch(part, entryParts[0][i], ANYMATCH_OPTS);\n        });\n      });\n    }\n    return !this.unmatchedGlob && this.fsw._isntIgnored(this.entryPath(entry), entry.stats);\n  }\n}\n\n/**\n * Watches files & directories for changes. Emitted events:\n * `add`, `addDir`, `change`, `unlink`, `unlinkDir`, `all`, `error`\n *\n *     new FSWatcher()\n *       .add(directories)\n *       .on('add', path => log('File', path, 'was added'))\n */\nclass FSWatcher extends EventEmitter {\n// Not indenting methods for history sake; for now.\nconstructor(_opts) {\n  super();\n\n  const opts = {};\n  if (_opts) Object.assign(opts, _opts); // for frozen objects\n\n  /** @type {Map<String, DirEntry>} */\n  this._watched = new Map();\n  /** @type {Map<String, Array>} */\n  this._closers = new Map();\n  /** @type {Set<String>} */\n  this._ignoredPaths = new Set();\n\n  /** @type {Map<ThrottleType, Map>} */\n  this._throttled = new Map();\n\n  /** @type {Map<Path, String|Boolean>} */\n  this._symlinkPaths = new Map();\n\n  this._streams = new Set();\n  this.closed = false;\n\n  // Set up default options.\n  if (undef(opts, 'persistent')) opts.persistent = true;\n  if (undef(opts, 'ignoreInitial')) opts.ignoreInitial = false;\n  if (undef(opts, 'ignorePermissionErrors')) opts.ignorePermissionErrors = false;\n  if (undef(opts, 'interval')) opts.interval = 100;\n  if (undef(opts, 'binaryInterval')) opts.binaryInterval = 300;\n  if (undef(opts, 'disableGlobbing')) opts.disableGlobbing = false;\n  opts.enableBinaryInterval = opts.binaryInterval !== opts.interval;\n\n  // Enable fsevents on OS X when polling isn't explicitly enabled.\n  if (undef(opts, 'useFsEvents')) opts.useFsEvents = !opts.usePolling;\n\n  // If we can't use fsevents, ensure the options reflect it's disabled.\n  const canUseFsEvents = FsEventsHandler.canUse();\n  if (!canUseFsEvents) opts.useFsEvents = false;\n\n  // Use polling on Mac if not using fsevents.\n  // Other platforms use non-polling fs_watch.\n  if (undef(opts, 'usePolling') && !opts.useFsEvents) {\n    opts.usePolling = isMacos;\n  }\n\n  // Always default to polling on IBM i because fs.watch() is not available on IBM i.\n  if(isIBMi) {\n    opts.usePolling = true;\n  }\n\n  // Global override (useful for end-developers that need to force polling for all\n  // instances of chokidar, regardless of usage/dependency depth)\n  const envPoll = process.env.CHOKIDAR_USEPOLLING;\n  if (envPoll !== undefined) {\n    const envLower = envPoll.toLowerCase();\n\n    if (envLower === 'false' || envLower === '0') {\n      opts.usePolling = false;\n    } else if (envLower === 'true' || envLower === '1') {\n      opts.usePolling = true;\n    } else {\n      opts.usePolling = !!envLower;\n    }\n  }\n  const envInterval = process.env.CHOKIDAR_INTERVAL;\n  if (envInterval) {\n    opts.interval = Number.parseInt(envInterval, 10);\n  }\n\n  // Editor atomic write normalization enabled by default with fs.watch\n  if (undef(opts, 'atomic')) opts.atomic = !opts.usePolling && !opts.useFsEvents;\n  if (opts.atomic) this._pendingUnlinks = new Map();\n\n  if (undef(opts, 'followSymlinks')) opts.followSymlinks = true;\n\n  if (undef(opts, 'awaitWriteFinish')) opts.awaitWriteFinish = false;\n  if (opts.awaitWriteFinish === true) opts.awaitWriteFinish = {};\n  const awf = opts.awaitWriteFinish;\n  if (awf) {\n    if (!awf.stabilityThreshold) awf.stabilityThreshold = 2000;\n    if (!awf.pollInterval) awf.pollInterval = 100;\n    this._pendingWrites = new Map();\n  }\n  if (opts.ignored) opts.ignored = arrify(opts.ignored);\n\n  let readyCalls = 0;\n  this._emitReady = () => {\n    readyCalls++;\n    if (readyCalls >= this._readyCount) {\n      this._emitReady = EMPTY_FN;\n      this._readyEmitted = true;\n      // use process.nextTick to allow time for listener to be bound\n      process.nextTick(() => this.emit(EV_READY));\n    }\n  };\n  this._emitRaw = (...args) => this.emit(EV_RAW, ...args);\n  this._readyEmitted = false;\n  this.options = opts;\n\n  // Initialize with proper watcher.\n  if (opts.useFsEvents) {\n    this._fsEventsHandler = new FsEventsHandler(this);\n  } else {\n    this._nodeFsHandler = new NodeFsHandler(this);\n  }\n\n  // Youre frozen when your hearts not open.\n  Object.freeze(opts);\n}\n\n// Public methods\n\n/**\n * Adds paths to be watched on an existing FSWatcher instance\n * @param {Path|Array<Path>} paths_\n * @param {String=} _origAdd private; for handling non-existent paths to be watched\n * @param {Boolean=} _internal private; indicates a non-user add\n * @returns {FSWatcher} for chaining\n */\nadd(paths_, _origAdd, _internal) {\n  const {cwd, disableGlobbing} = this.options;\n  this.closed = false;\n  let paths = unifyPaths(paths_);\n  if (cwd) {\n    paths = paths.map((path) => {\n      const absPath = getAbsolutePath(path, cwd);\n\n      // Check `path` instead of `absPath` because the cwd portion can't be a glob\n      if (disableGlobbing || !isGlob(path)) {\n        return absPath;\n      }\n      return normalizePath(absPath);\n    });\n  }\n\n  // set aside negated glob strings\n  paths = paths.filter((path) => {\n    if (path.startsWith(BANG)) {\n      this._ignoredPaths.add(path.slice(1));\n      return false;\n    }\n\n    // if a path is being added that was previously ignored, stop ignoring it\n    this._ignoredPaths.delete(path);\n    this._ignoredPaths.delete(path + SLASH_GLOBSTAR);\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n\n    return true;\n  });\n\n  if (this.options.useFsEvents && this._fsEventsHandler) {\n    if (!this._readyCount) this._readyCount = paths.length;\n    if (this.options.persistent) this._readyCount *= 2;\n    paths.forEach((path) => this._fsEventsHandler._addToFsEvents(path));\n  } else {\n    if (!this._readyCount) this._readyCount = 0;\n    this._readyCount += paths.length;\n    Promise.all(\n      paths.map(async path => {\n        const res = await this._nodeFsHandler._addToNodeFs(path, !_internal, 0, 0, _origAdd);\n        if (res) this._emitReady();\n        return res;\n      })\n    ).then(results => {\n      if (this.closed) return;\n      results.filter(item => item).forEach(item => {\n        this.add(sysPath.dirname(item), sysPath.basename(_origAdd || item));\n      });\n    });\n  }\n\n  return this;\n}\n\n/**\n * Close watchers or start ignoring events from specified paths.\n * @param {Path|Array<Path>} paths_ - string or array of strings, file/directory paths and/or globs\n * @returns {FSWatcher} for chaining\n*/\nunwatch(paths_) {\n  if (this.closed) return this;\n  const paths = unifyPaths(paths_);\n  const {cwd} = this.options;\n\n  paths.forEach((path) => {\n    // convert to absolute path unless relative path already matches\n    if (!sysPath.isAbsolute(path) && !this._closers.has(path)) {\n      if (cwd) path = sysPath.join(cwd, path);\n      path = sysPath.resolve(path);\n    }\n\n    this._closePath(path);\n\n    this._ignoredPaths.add(path);\n    if (this._watched.has(path)) {\n      this._ignoredPaths.add(path + SLASH_GLOBSTAR);\n    }\n\n    // reset the cached userIgnored anymatch fn\n    // to make ignoredPaths changes effective\n    this._userIgnored = undefined;\n  });\n\n  return this;\n}\n\n/**\n * Close watchers and remove all listeners from watched paths.\n * @returns {Promise<void>}.\n*/\nclose() {\n  if (this.closed) return this._closePromise;\n  this.closed = true;\n\n  // Memory management.\n  this.removeAllListeners();\n  const closers = [];\n  this._closers.forEach(closerList => closerList.forEach(closer => {\n    const promise = closer();\n    if (promise instanceof Promise) closers.push(promise);\n  }));\n  this._streams.forEach(stream => stream.destroy());\n  this._userIgnored = undefined;\n  this._readyCount = 0;\n  this._readyEmitted = false;\n  this._watched.forEach(dirent => dirent.dispose());\n  ['closers', 'watched', 'streams', 'symlinkPaths', 'throttled'].forEach(key => {\n    this[`_${key}`].clear();\n  });\n\n  this._closePromise = closers.length ? Promise.all(closers).then(() => undefined) : Promise.resolve();\n  return this._closePromise;\n}\n\n/**\n * Expose list of watched paths\n * @returns {Object} for chaining\n*/\ngetWatched() {\n  const watchList = {};\n  this._watched.forEach((entry, dir) => {\n    const key = this.options.cwd ? sysPath.relative(this.options.cwd, dir) : dir;\n    watchList[key || ONE_DOT] = entry.getChildren().sort();\n  });\n  return watchList;\n}\n\nemitWithAll(event, args) {\n  this.emit(...args);\n  if (event !== EV_ERROR) this.emit(EV_ALL, ...args);\n}\n\n// Common helpers\n// --------------\n\n/**\n * Normalize and emit events.\n * Calling _emit DOES NOT MEAN emit() would be called!\n * @param {EventName} event Type of event\n * @param {Path} path File or directory path\n * @param {*=} val1 arguments to be passed with event\n * @param {*=} val2\n * @param {*=} val3\n * @returns the error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\nasync _emit(event, path, val1, val2, val3) {\n  if (this.closed) return;\n\n  const opts = this.options;\n  if (isWindows) path = sysPath.normalize(path);\n  if (opts.cwd) path = sysPath.relative(opts.cwd, path);\n  /** @type Array<any> */\n  const args = [event, path];\n  if (val3 !== undefined) args.push(val1, val2, val3);\n  else if (val2 !== undefined) args.push(val1, val2);\n  else if (val1 !== undefined) args.push(val1);\n\n  const awf = opts.awaitWriteFinish;\n  let pw;\n  if (awf && (pw = this._pendingWrites.get(path))) {\n    pw.lastChange = new Date();\n    return this;\n  }\n\n  if (opts.atomic) {\n    if (event === EV_UNLINK) {\n      this._pendingUnlinks.set(path, args);\n      setTimeout(() => {\n        this._pendingUnlinks.forEach((entry, path) => {\n          this.emit(...entry);\n          this.emit(EV_ALL, ...entry);\n          this._pendingUnlinks.delete(path);\n        });\n      }, typeof opts.atomic === 'number' ? opts.atomic : 100);\n      return this;\n    }\n    if (event === EV_ADD && this._pendingUnlinks.has(path)) {\n      event = args[0] = EV_CHANGE;\n      this._pendingUnlinks.delete(path);\n    }\n  }\n\n  if (awf && (event === EV_ADD || event === EV_CHANGE) && this._readyEmitted) {\n    const awfEmit = (err, stats) => {\n      if (err) {\n        event = args[0] = EV_ERROR;\n        args[1] = err;\n        this.emitWithAll(event, args);\n      } else if (stats) {\n        // if stats doesn't exist the file must have been deleted\n        if (args.length > 2) {\n          args[2] = stats;\n        } else {\n          args.push(stats);\n        }\n        this.emitWithAll(event, args);\n      }\n    };\n\n    this._awaitWriteFinish(path, awf.stabilityThreshold, event, awfEmit);\n    return this;\n  }\n\n  if (event === EV_CHANGE) {\n    const isThrottled = !this._throttle(EV_CHANGE, path, 50);\n    if (isThrottled) return this;\n  }\n\n  if (opts.alwaysStat && val1 === undefined &&\n    (event === EV_ADD || event === EV_ADD_DIR || event === EV_CHANGE)\n  ) {\n    const fullPath = opts.cwd ? sysPath.join(opts.cwd, path) : path;\n    let stats;\n    try {\n      stats = await stat(fullPath);\n    } catch (err) {}\n    // Suppress event when fs_stat fails, to avoid sending undefined 'stat'\n    if (!stats || this.closed) return;\n    args.push(stats);\n  }\n  this.emitWithAll(event, args);\n\n  return this;\n}\n\n/**\n * Common handler for errors\n * @param {Error} error\n * @returns {Error|Boolean} The error if defined, otherwise the value of the FSWatcher instance's `closed` flag\n */\n_handleError(error) {\n  const code = error && error.code;\n  if (error && code !== 'ENOENT' && code !== 'ENOTDIR' &&\n    (!this.options.ignorePermissionErrors || (code !== 'EPERM' && code !== 'EACCES'))\n  ) {\n    this.emit(EV_ERROR, error);\n  }\n  return error || this.closed;\n}\n\n/**\n * Helper utility for throttling\n * @param {ThrottleType} actionType type being throttled\n * @param {Path} path being acted upon\n * @param {Number} timeout duration of time to suppress duplicate actions\n * @returns {Object|false} tracking object or false if action should be suppressed\n */\n_throttle(actionType, path, timeout) {\n  if (!this._throttled.has(actionType)) {\n    this._throttled.set(actionType, new Map());\n  }\n\n  /** @type {Map<Path, Object>} */\n  const action = this._throttled.get(actionType);\n  /** @type {Object} */\n  const actionPath = action.get(path);\n\n  if (actionPath) {\n    actionPath.count++;\n    return false;\n  }\n\n  let timeoutObject;\n  const clear = () => {\n    const item = action.get(path);\n    const count = item ? item.count : 0;\n    action.delete(path);\n    clearTimeout(timeoutObject);\n    if (item) clearTimeout(item.timeoutObject);\n    return count;\n  };\n  timeoutObject = setTimeout(clear, timeout);\n  const thr = {timeoutObject, clear, count: 0};\n  action.set(path, thr);\n  return thr;\n}\n\n_incrReadyCount() {\n  return this._readyCount++;\n}\n\n/**\n * Awaits write operation to finish.\n * Polls a newly created file for size variations. When files size does not change for 'threshold' milliseconds calls callback.\n * @param {Path} path being acted upon\n * @param {Number} threshold Time in milliseconds a file size must be fixed before acknowledging write OP is finished\n * @param {EventName} event\n * @param {Function} awfEmit Callback to be called when ready for event to be emitted.\n */\n_awaitWriteFinish(path, threshold, event, awfEmit) {\n  let timeoutHandler;\n\n  let fullPath = path;\n  if (this.options.cwd && !sysPath.isAbsolute(path)) {\n    fullPath = sysPath.join(this.options.cwd, path);\n  }\n\n  const now = new Date();\n\n  const awaitWriteFinish = (prevStat) => {\n    fs.stat(fullPath, (err, curStat) => {\n      if (err || !this._pendingWrites.has(path)) {\n        if (err && err.code !== 'ENOENT') awfEmit(err);\n        return;\n      }\n\n      const now = Number(new Date());\n\n      if (prevStat && curStat.size !== prevStat.size) {\n        this._pendingWrites.get(path).lastChange = now;\n      }\n      const pw = this._pendingWrites.get(path);\n      const df = now - pw.lastChange;\n\n      if (df >= threshold) {\n        this._pendingWrites.delete(path);\n        awfEmit(undefined, curStat);\n      } else {\n        timeoutHandler = setTimeout(\n          awaitWriteFinish,\n          this.options.awaitWriteFinish.pollInterval,\n          curStat\n        );\n      }\n    });\n  };\n\n  if (!this._pendingWrites.has(path)) {\n    this._pendingWrites.set(path, {\n      lastChange: now,\n      cancelWait: () => {\n        this._pendingWrites.delete(path);\n        clearTimeout(timeoutHandler);\n        return event;\n      }\n    });\n    timeoutHandler = setTimeout(\n      awaitWriteFinish,\n      this.options.awaitWriteFinish.pollInterval\n    );\n  }\n}\n\n_getGlobIgnored() {\n  return [...this._ignoredPaths.values()];\n}\n\n/**\n * Determines whether user has asked to ignore this path.\n * @param {Path} path filepath or dir\n * @param {fs.Stats=} stats result of fs.stat\n * @returns {Boolean}\n */\n_isIgnored(path, stats) {\n  if (this.options.atomic && DOT_RE.test(path)) return true;\n  if (!this._userIgnored) {\n    const {cwd} = this.options;\n    const ign = this.options.ignored;\n\n    const ignored = ign && ign.map(normalizeIgnored(cwd));\n    const paths = arrify(ignored)\n      .filter((path) => typeof path === STRING_TYPE && !isGlob(path))\n      .map((path) => path + SLASH_GLOBSTAR);\n    const list = this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored, paths);\n    this._userIgnored = anymatch(list, undefined, ANYMATCH_OPTS);\n  }\n\n  return this._userIgnored([path, stats]);\n}\n\n_isntIgnored(path, stat) {\n  return !this._isIgnored(path, stat);\n}\n\n/**\n * Provides a set of common helpers and properties relating to symlink and glob handling.\n * @param {Path} path file, directory, or glob pattern being watched\n * @param {Number=} depth at any depth > 0, this isn't a glob\n * @returns {WatchHelper} object containing helpers for this path\n */\n_getWatchHelpers(path, depth) {\n  const watchPath = depth || this.options.disableGlobbing || !isGlob(path) ? path : globParent(path);\n  const follow = this.options.followSymlinks;\n\n  return new WatchHelper(path, watchPath, follow, this);\n}\n\n// Directory helpers\n// -----------------\n\n/**\n * Provides directory tracking objects\n * @param {String} directory path of the directory\n * @returns {DirEntry} the directory's tracking object\n */\n_getWatchedDir(directory) {\n  if (!this._boundRemove) this._boundRemove = this._remove.bind(this);\n  const dir = sysPath.resolve(directory);\n  if (!this._watched.has(dir)) this._watched.set(dir, new DirEntry(dir, this._boundRemove));\n  return this._watched.get(dir);\n}\n\n// File helpers\n// ------------\n\n/**\n * Check for read permissions.\n * Based on this answer on SO: https://stackoverflow.com/a/11781404/1358405\n * @param {fs.Stats} stats - object, result of fs_stat\n * @returns {Boolean} indicates whether the file can be read\n*/\n_hasReadPermissions(stats) {\n  if (this.options.ignorePermissionErrors) return true;\n\n  // stats.mode may be bigint\n  const md = stats && Number.parseInt(stats.mode, 10);\n  const st = md & 0o777;\n  const it = Number.parseInt(st.toString(8)[0], 10);\n  return Boolean(4 & it);\n}\n\n/**\n * Handles emitting unlink events for\n * files and directories, and via recursion, for\n * files and directories within directories that are unlinked\n * @param {String} directory within which the following item is located\n * @param {String} item      base path of item/directory\n * @returns {void}\n*/\n_remove(directory, item, isDirectory) {\n  // if what is being deleted is a directory, get that directory's paths\n  // for recursive deleting and cleaning of watched object\n  // if it is not a directory, nestedDirectoryChildren will be empty array\n  const path = sysPath.join(directory, item);\n  const fullPath = sysPath.resolve(path);\n  isDirectory = isDirectory != null\n    ? isDirectory\n    : this._watched.has(path) || this._watched.has(fullPath);\n\n  // prevent duplicate handling in case of arriving here nearly simultaneously\n  // via multiple paths (such as _handleFile and _handleDir)\n  if (!this._throttle('remove', path, 100)) return;\n\n  // if the only watched file is removed, watch for its return\n  if (!isDirectory && !this.options.useFsEvents && this._watched.size === 1) {\n    this.add(directory, item, true);\n  }\n\n  // This will create a new entry in the watched object in either case\n  // so we got to do the directory check beforehand\n  const wp = this._getWatchedDir(path);\n  const nestedDirectoryChildren = wp.getChildren();\n\n  // Recursively remove children directories / files.\n  nestedDirectoryChildren.forEach(nested => this._remove(path, nested));\n\n  // Check if item was on the watched list and remove it\n  const parent = this._getWatchedDir(directory);\n  const wasTracked = parent.has(item);\n  parent.remove(item);\n\n  // Fixes issue #1042 -> Relative paths were detected and added as symlinks\n  // (https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L612),\n  // but never removed from the map in case the path was deleted.\n  // This leads to an incorrect state if the path was recreated:\n  // https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L553\n  if (this._symlinkPaths.has(fullPath)) {\n    this._symlinkPaths.delete(fullPath);\n  }\n\n  // If we wait for this file to be fully written, cancel the wait.\n  let relPath = path;\n  if (this.options.cwd) relPath = sysPath.relative(this.options.cwd, path);\n  if (this.options.awaitWriteFinish && this._pendingWrites.has(relPath)) {\n    const event = this._pendingWrites.get(relPath).cancelWait();\n    if (event === EV_ADD) return;\n  }\n\n  // The Entry will either be a directory that just got removed\n  // or a bogus entry to a file, in either case we have to remove it\n  this._watched.delete(path);\n  this._watched.delete(fullPath);\n  const eventName = isDirectory ? EV_UNLINK_DIR : EV_UNLINK;\n  if (wasTracked && !this._isIgnored(path)) this._emit(eventName, path);\n\n  // Avoid conflicts if we later create another file with the same name\n  if (!this.options.useFsEvents) {\n    this._closePath(path);\n  }\n}\n\n/**\n * Closes all watchers for a path\n * @param {Path} path\n */\n_closePath(path) {\n  this._closeFile(path)\n  const dir = sysPath.dirname(path);\n  this._getWatchedDir(dir).remove(sysPath.basename(path));\n}\n\n/**\n * Closes only file-specific watchers\n * @param {Path} path\n */\n_closeFile(path) {\n  const closers = this._closers.get(path);\n  if (!closers) return;\n  closers.forEach(closer => closer());\n  this._closers.delete(path);\n}\n\n/**\n *\n * @param {Path} path\n * @param {Function} closer\n */\n_addPathCloser(path, closer) {\n  if (!closer) return;\n  let list = this._closers.get(path);\n  if (!list) {\n    list = [];\n    this._closers.set(path, list);\n  }\n  list.push(closer);\n}\n\n_readdirp(root, opts) {\n  if (this.closed) return;\n  const options = {type: EV_ALL, alwaysStat: true, lstat: true, ...opts};\n  let stream = readdirp(root, options);\n  this._streams.add(stream);\n  stream.once(STR_CLOSE, () => {\n    stream = undefined;\n  });\n  stream.once(STR_END, () => {\n    if (stream) {\n      this._streams.delete(stream);\n      stream = undefined;\n    }\n  });\n  return stream;\n}\n\n}\n\n// Export FSWatcher class\nexports.FSWatcher = FSWatcher;\n\n/**\n * Instantiates watcher with paths to be tracked.\n * @param {String|Array<String>} paths file/directory paths and/or globs\n * @param {Object=} options chokidar opts\n * @returns an instance of FSWatcher for chaining.\n */\nconst watch = (paths, options) => {\n  const watcher = new FSWatcher(options);\n  watcher.add(paths);\n  return watcher;\n};\n\nexports.watch = watch;\n","'use strict';\n\nconst {sep} = require('path');\nconst {platform} = process;\nconst os = require('os');\n\nexports.EV_ALL = 'all';\nexports.EV_READY = 'ready';\nexports.EV_ADD = 'add';\nexports.EV_CHANGE = 'change';\nexports.EV_ADD_DIR = 'addDir';\nexports.EV_UNLINK = 'unlink';\nexports.EV_UNLINK_DIR = 'unlinkDir';\nexports.EV_RAW = 'raw';\nexports.EV_ERROR = 'error';\n\nexports.STR_DATA = 'data';\nexports.STR_END = 'end';\nexports.STR_CLOSE = 'close';\n\nexports.FSEVENT_CREATED = 'created';\nexports.FSEVENT_MODIFIED = 'modified';\nexports.FSEVENT_DELETED = 'deleted';\nexports.FSEVENT_MOVED = 'moved';\nexports.FSEVENT_CLONED = 'cloned';\nexports.FSEVENT_UNKNOWN = 'unknown';\nexports.FSEVENT_TYPE_FILE = 'file';\nexports.FSEVENT_TYPE_DIRECTORY = 'directory';\nexports.FSEVENT_TYPE_SYMLINK = 'symlink';\n\nexports.KEY_LISTENERS = 'listeners';\nexports.KEY_ERR = 'errHandlers';\nexports.KEY_RAW = 'rawEmitters';\nexports.HANDLER_KEYS = [exports.KEY_LISTENERS, exports.KEY_ERR, exports.KEY_RAW];\n\nexports.DOT_SLASH = `.${sep}`;\n\nexports.BACK_SLASH_RE = /\\\\/g;\nexports.DOUBLE_SLASH_RE = /\\/\\//;\nexports.SLASH_OR_BACK_SLASH_RE = /[/\\\\]/;\nexports.DOT_RE = /\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/;\nexports.REPLACER_RE = /^\\.[/\\\\]/;\n\nexports.SLASH = '/';\nexports.SLASH_SLASH = '//';\nexports.BRACE_START = '{';\nexports.BANG = '!';\nexports.ONE_DOT = '.';\nexports.TWO_DOTS = '..';\nexports.STAR = '*';\nexports.GLOBSTAR = '**';\nexports.ROOT_GLOBSTAR = '/**/*';\nexports.SLASH_GLOBSTAR = '/**';\nexports.DIR_SUFFIX = 'Dir';\nexports.ANYMATCH_OPTS = {dot: true};\nexports.STRING_TYPE = 'string';\nexports.FUNCTION_TYPE = 'function';\nexports.EMPTY_STR = '';\nexports.EMPTY_FN = () => {};\nexports.IDENTITY_FN = val => val;\n\nexports.isWindows = platform === 'win32';\nexports.isMacos = platform === 'darwin';\nexports.isLinux = platform === 'linux';\nexports.isIBMi = os.type() === 'OS400';\n","'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\n\nlet fsevents;\ntry {\n  fsevents = require('fsevents');\n} catch (error) {\n  if (process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR) console.error(error);\n}\n\nif (fsevents) {\n  // TODO: real check\n  const mtch = process.version.match(/v(\\d+)\\.(\\d+)/);\n  if (mtch && mtch[1] && mtch[2]) {\n    const maj = Number.parseInt(mtch[1], 10);\n    const min = Number.parseInt(mtch[2], 10);\n    if (maj === 8 && min < 16) {\n      fsevents = undefined;\n    }\n  }\n}\n\nconst {\n  EV_ADD,\n  EV_CHANGE,\n  EV_ADD_DIR,\n  EV_UNLINK,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  FSEVENT_CREATED,\n  FSEVENT_MODIFIED,\n  FSEVENT_DELETED,\n  FSEVENT_MOVED,\n  // FSEVENT_CLONED,\n  FSEVENT_UNKNOWN,\n  FSEVENT_TYPE_FILE,\n  FSEVENT_TYPE_DIRECTORY,\n  FSEVENT_TYPE_SYMLINK,\n\n  ROOT_GLOBSTAR,\n  DIR_SUFFIX,\n  DOT_SLASH,\n  FUNCTION_TYPE,\n  EMPTY_FN,\n  IDENTITY_FN\n} = require('./constants');\n\nconst Depth = (value) => isNaN(value) ? {} : {depth: value};\n\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\nconst statMethods = { stat, lstat };\n\n/**\n * @typedef {String} Path\n */\n\n/**\n * @typedef {Object} FsEventsWatchContainer\n * @property {Set<Function>} listeners\n * @property {Function} rawEmitter\n * @property {{stop: Function}} watcher\n */\n\n// fsevents instance helper functions\n/**\n * Object to hold per-process fsevents instances (may be shared across chokidar FSWatcher instances)\n * @type {Map<Path,FsEventsWatchContainer>}\n */\nconst FSEventsWatchers = new Map();\n\n// Threshold of duplicate path prefixes at which to start\n// consolidating going forward\nconst consolidateThreshhold = 10;\n\nconst wrongEventFlags = new Set([\n  69888, 70400, 71424, 72704, 73472, 131328, 131840, 262912\n]);\n\n/**\n * Instantiates the fsevents interface\n * @param {Path} path path to be watched\n * @param {Function} callback called when fsevents is bound and ready\n * @returns {{stop: Function}} new fsevents instance\n */\nconst createFSEventsInstance = (path, callback) => {\n  const stop = fsevents.watch(path, callback);\n  return {stop};\n};\n\n/**\n * Instantiates the fsevents interface or binds listeners to an existing one covering\n * the same file tree.\n * @param {Path} path           - to be watched\n * @param {Path} realPath       - real path for symlinks\n * @param {Function} listener   - called when fsevents emits events\n * @param {Function} rawEmitter - passes data to listeners of the 'raw' event\n * @returns {Function} closer\n */\nfunction setFSEventsListener(path, realPath, listener, rawEmitter) {\n  let watchPath = sysPath.extname(realPath) ? sysPath.dirname(realPath) : realPath;\n\n  const parentPath = sysPath.dirname(watchPath);\n  let cont = FSEventsWatchers.get(watchPath);\n\n  // If we've accumulated a substantial number of paths that\n  // could have been consolidated by watching one directory\n  // above the current one, create a watcher on the parent\n  // path instead, so that we do consolidate going forward.\n  if (couldConsolidate(parentPath)) {\n    watchPath = parentPath;\n  }\n\n  const resolvedPath = sysPath.resolve(path);\n  const hasSymlink = resolvedPath !== realPath;\n\n  const filteredListener = (fullPath, flags, info) => {\n    if (hasSymlink) fullPath = fullPath.replace(realPath, resolvedPath);\n    if (\n      fullPath === resolvedPath ||\n      !fullPath.indexOf(resolvedPath + sysPath.sep)\n    ) listener(fullPath, flags, info);\n  };\n\n  // check if there is already a watcher on a parent path\n  // modifies `watchPath` to the parent path when it finds a match\n  let watchedParent = false;\n  for (const watchedPath of FSEventsWatchers.keys()) {\n    if (realPath.indexOf(sysPath.resolve(watchedPath) + sysPath.sep) === 0) {\n      watchPath = watchedPath;\n      cont = FSEventsWatchers.get(watchPath);\n      watchedParent = true;\n      break;\n    }\n  }\n\n  if (cont || watchedParent) {\n    cont.listeners.add(filteredListener);\n  } else {\n    cont = {\n      listeners: new Set([filteredListener]),\n      rawEmitter,\n      watcher: createFSEventsInstance(watchPath, (fullPath, flags) => {\n        if (!cont.listeners.size) return;\n        const info = fsevents.getInfo(fullPath, flags);\n        cont.listeners.forEach(list => {\n          list(fullPath, flags, info);\n        });\n\n        cont.rawEmitter(info.event, fullPath, info);\n      })\n    };\n    FSEventsWatchers.set(watchPath, cont);\n  }\n\n  // removes this instance's listeners and closes the underlying fsevents\n  // instance if there are no more listeners left\n  return () => {\n    const lst = cont.listeners;\n\n    lst.delete(filteredListener);\n    if (!lst.size) {\n      FSEventsWatchers.delete(watchPath);\n      if (cont.watcher) return cont.watcher.stop().then(() => {\n        cont.rawEmitter = cont.watcher = undefined;\n        Object.freeze(cont);\n      });\n    }\n  };\n}\n\n// Decide whether or not we should start a new higher-level\n// parent watcher\nconst couldConsolidate = (path) => {\n  let count = 0;\n  for (const watchPath of FSEventsWatchers.keys()) {\n    if (watchPath.indexOf(path) === 0) {\n      count++;\n      if (count >= consolidateThreshhold) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n// returns boolean indicating whether fsevents can be used\nconst canUse = () => fsevents && FSEventsWatchers.size < 128;\n\n// determines subdirectory traversal levels from root to path\nconst calcDepth = (path, root) => {\n  let i = 0;\n  while (!path.indexOf(root) && (path = sysPath.dirname(path)) !== root) i++;\n  return i;\n};\n\n// returns boolean indicating whether the fsevents' event info has the same type\n// as the one returned by fs.stat\nconst sameTypes = (info, stats) => (\n  info.type === FSEVENT_TYPE_DIRECTORY && stats.isDirectory() ||\n  info.type === FSEVENT_TYPE_SYMLINK && stats.isSymbolicLink() ||\n  info.type === FSEVENT_TYPE_FILE && stats.isFile()\n)\n\n/**\n * @mixin\n */\nclass FsEventsHandler {\n\n/**\n * @param {import('../index').FSWatcher} fsw\n */\nconstructor(fsw) {\n  this.fsw = fsw;\n}\ncheckIgnored(path, stats) {\n  const ipaths = this.fsw._ignoredPaths;\n  if (this.fsw._isIgnored(path, stats)) {\n    ipaths.add(path);\n    if (stats && stats.isDirectory()) {\n      ipaths.add(path + ROOT_GLOBSTAR);\n    }\n    return true;\n  }\n\n  ipaths.delete(path);\n  ipaths.delete(path + ROOT_GLOBSTAR);\n}\n\naddOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  const event = watchedDir.has(item) ? EV_CHANGE : EV_ADD;\n  this.handleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n}\n\nasync checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  try {\n    const stats = await stat(path)\n    if (this.fsw.closed) return;\n    if (sameTypes(info, stats)) {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  } catch (error) {\n    if (error.code === 'EACCES') {\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    } else {\n      this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n    }\n  }\n}\n\nhandleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts) {\n  if (this.fsw.closed || this.checkIgnored(path)) return;\n\n  if (event === EV_UNLINK) {\n    const isDirectory = info.type === FSEVENT_TYPE_DIRECTORY\n    // suppress unlink events on never before seen files\n    if (isDirectory || watchedDir.has(item)) {\n      this.fsw._remove(parent, item, isDirectory);\n    }\n  } else {\n    if (event === EV_ADD) {\n      // track new directories\n      if (info.type === FSEVENT_TYPE_DIRECTORY) this.fsw._getWatchedDir(path);\n\n      if (info.type === FSEVENT_TYPE_SYMLINK && opts.followSymlinks) {\n        // push symlinks back to the top of the stack to get handled\n        const curDepth = opts.depth === undefined ?\n          undefined : calcDepth(fullPath, realPath) + 1;\n        return this._addToFsEvents(path, false, true, curDepth);\n      }\n\n      // track new paths\n      // (other than symlinks being followed, which will be tracked soon)\n      this.fsw._getWatchedDir(parent).add(item);\n    }\n    /**\n     * @type {'add'|'addDir'|'unlink'|'unlinkDir'}\n     */\n    const eventName = info.type === FSEVENT_TYPE_DIRECTORY ? event + DIR_SUFFIX : event;\n    this.fsw._emit(eventName, path);\n    if (eventName === EV_ADD_DIR) this._addToFsEvents(path, false, true);\n  }\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} watchPath  - file/dir path to be watched with fsevents\n * @param {String} realPath   - real path (in case of symlinks)\n * @param {Function} transform  - path transformer\n * @param {Function} globFilter - path filter in case a glob pattern was provided\n * @returns {Function} closer for the watcher instance\n*/\n_watchWithFsEvents(watchPath, realPath, transform, globFilter) {\n  if (this.fsw.closed || this.fsw._isIgnored(watchPath)) return;\n  const opts = this.fsw.options;\n  const watchCallback = async (fullPath, flags, info) => {\n    if (this.fsw.closed) return;\n    if (\n      opts.depth !== undefined &&\n      calcDepth(fullPath, realPath) > opts.depth\n    ) return;\n    const path = transform(sysPath.join(\n      watchPath, sysPath.relative(watchPath, fullPath)\n    ));\n    if (globFilter && !globFilter(path)) return;\n    // ensure directories are tracked\n    const parent = sysPath.dirname(path);\n    const item = sysPath.basename(path);\n    const watchedDir = this.fsw._getWatchedDir(\n      info.type === FSEVENT_TYPE_DIRECTORY ? path : parent\n    );\n\n    // correct for wrong events emitted\n    if (wrongEventFlags.has(flags) || info.event === FSEVENT_UNKNOWN) {\n      if (typeof opts.ignored === FUNCTION_TYPE) {\n        let stats;\n        try {\n          stats = await stat(path);\n        } catch (error) {}\n        if (this.fsw.closed) return;\n        if (this.checkIgnored(path, stats)) return;\n        if (sameTypes(info, stats)) {\n          this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        } else {\n          this.handleEvent(EV_UNLINK, path, fullPath, realPath, parent, watchedDir, item, info, opts);\n        }\n      } else {\n        this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    } else {\n      switch (info.event) {\n      case FSEVENT_CREATED:\n      case FSEVENT_MODIFIED:\n        return this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      case FSEVENT_DELETED:\n      case FSEVENT_MOVED:\n        return this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\n      }\n    }\n  };\n\n  const closer = setFSEventsListener(\n    watchPath,\n    realPath,\n    watchCallback,\n    this.fsw._emitRaw\n  );\n\n  this.fsw._emitReady();\n  return closer;\n}\n\n/**\n * Handle symlinks encountered during directory scan\n * @param {String} linkPath path to symlink\n * @param {String} fullPath absolute path to the symlink\n * @param {Function} transform pre-existing path transformer\n * @param {Number} curDepth level of subdirectories traversed to where symlink is\n * @returns {Promise<void>}\n */\nasync _handleFsEventsSymlink(linkPath, fullPath, transform, curDepth) {\n  // don't follow the same symlink more than once\n  if (this.fsw.closed || this.fsw._symlinkPaths.has(fullPath)) return;\n\n  this.fsw._symlinkPaths.set(fullPath, true);\n  this.fsw._incrReadyCount();\n\n  try {\n    const linkTarget = await realpath(linkPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(linkTarget)) {\n      return this.fsw._emitReady();\n    }\n\n    this.fsw._incrReadyCount();\n\n    // add the linkTarget for watching with a wrapper for transform\n    // that causes emitted paths to incorporate the link's path\n    this._addToFsEvents(linkTarget || linkPath, (path) => {\n      let aliasedPath = linkPath;\n      if (linkTarget && linkTarget !== DOT_SLASH) {\n        aliasedPath = path.replace(linkTarget, linkPath);\n      } else if (path !== DOT_SLASH) {\n        aliasedPath = sysPath.join(linkPath, path);\n      }\n      return transform(aliasedPath);\n    }, false, curDepth);\n  } catch(error) {\n    if (this.fsw._handleError(error)) {\n      return this.fsw._emitReady();\n    }\n  }\n}\n\n/**\n *\n * @param {Path} newPath\n * @param {fs.Stats} stats\n */\nemitAdd(newPath, stats, processPath, opts, forceAdd) {\n  const pp = processPath(newPath);\n  const isDir = stats.isDirectory();\n  const dirObj = this.fsw._getWatchedDir(sysPath.dirname(pp));\n  const base = sysPath.basename(pp);\n\n  // ensure empty dirs get tracked\n  if (isDir) this.fsw._getWatchedDir(pp);\n  if (dirObj.has(base)) return;\n  dirObj.add(base);\n\n  if (!opts.ignoreInitial || forceAdd === true) {\n    this.fsw._emit(isDir ? EV_ADD_DIR : EV_ADD, pp, stats);\n  }\n}\n\ninitWatch(realPath, path, wh, processPath) {\n  if (this.fsw.closed) return;\n  const closer = this._watchWithFsEvents(\n    wh.watchPath,\n    sysPath.resolve(realPath || wh.watchPath),\n    processPath,\n    wh.globFilter\n  );\n  this.fsw._addPathCloser(path, closer);\n}\n\n/**\n * Handle added path with fsevents\n * @param {String} path file/dir path or glob pattern\n * @param {Function|Boolean=} transform converts working path to what the user expects\n * @param {Boolean=} forceAdd ensure add is emitted\n * @param {Number=} priorDepth Level of subdirectories already traversed.\n * @returns {Promise<void>}\n */\nasync _addToFsEvents(path, transform, forceAdd, priorDepth) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const opts = this.fsw.options;\n  const processPath = typeof transform === FUNCTION_TYPE ? transform : IDENTITY_FN;\n\n  const wh = this.fsw._getWatchHelpers(path);\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      throw null;\n    }\n    if (stats.isDirectory()) {\n      // emit addDir unless this is a glob parent\n      if (!wh.globFilter) this.emitAdd(processPath(path), stats, processPath, opts, forceAdd);\n\n      // don't recurse further if it would exceed depth setting\n      if (priorDepth && priorDepth > opts.depth) return;\n\n      // scan the contents of the dir\n      this.fsw._readdirp(wh.watchPath, {\n        fileFilter: entry => wh.filterPath(entry),\n        directoryFilter: entry => wh.filterDir(entry),\n        ...Depth(opts.depth - (priorDepth || 0))\n      }).on(STR_DATA, (entry) => {\n        // need to check filterPath on dirs b/c filterDir is less restrictive\n        if (this.fsw.closed) {\n          return;\n        }\n        if (entry.stats.isDirectory() && !wh.filterPath(entry)) return;\n\n        const joinedPath = sysPath.join(wh.watchPath, entry.path);\n        const {fullPath} = entry;\n\n        if (wh.followSymlinks && entry.stats.isSymbolicLink()) {\n          // preserve the current depth here since it can't be derived from\n          // real paths past the symlink\n          const curDepth = opts.depth === undefined ?\n            undefined : calcDepth(joinedPath, sysPath.resolve(wh.watchPath)) + 1;\n\n          this._handleFsEventsSymlink(joinedPath, fullPath, processPath, curDepth);\n        } else {\n          this.emitAdd(joinedPath, entry.stats, processPath, opts, forceAdd);\n        }\n      }).on(EV_ERROR, EMPTY_FN).on(STR_END, () => {\n        this.fsw._emitReady();\n      });\n    } else {\n      this.emitAdd(wh.watchPath, stats, processPath, opts, forceAdd);\n      this.fsw._emitReady();\n    }\n  } catch (error) {\n    if (!error || this.fsw._handleError(error)) {\n      // TODO: Strange thing: \"should not choke on an ignored watch path\" will be failed without 2 ready calls -__-\n      this.fsw._emitReady();\n      this.fsw._emitReady();\n    }\n  }\n\n  if (opts.persistent && forceAdd !== true) {\n    if (typeof transform === FUNCTION_TYPE) {\n      // realpath has already been resolved\n      this.initWatch(undefined, path, wh, processPath);\n    } else {\n      let realPath;\n      try {\n        realPath = await realpath(wh.watchPath);\n      } catch (e) {}\n      this.initWatch(realPath, path, wh, processPath);\n    }\n  }\n}\n\n}\n\nmodule.exports = FsEventsHandler;\nmodule.exports.canUse = canUse;\n","'use strict';\n\nconst fs = require('fs');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst isBinaryPath = require('is-binary-path');\nconst {\n  isWindows,\n  isLinux,\n  EMPTY_FN,\n  EMPTY_STR,\n  KEY_LISTENERS,\n  KEY_ERR,\n  KEY_RAW,\n  HANDLER_KEYS,\n  EV_CHANGE,\n  EV_ADD,\n  EV_ADD_DIR,\n  EV_ERROR,\n  STR_DATA,\n  STR_END,\n  BRACE_START,\n  STAR\n} = require('./constants');\n\nconst THROTTLE_MODE_WATCH = 'watch';\n\nconst open = promisify(fs.open);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst close = promisify(fs.close);\nconst fsrealpath = promisify(fs.realpath);\n\nconst statMethods = { lstat, stat };\n\n// TODO: emit errors properly. Example: EMFILE on Macos.\nconst foreach = (val, fn) => {\n  if (val instanceof Set) {\n    val.forEach(fn);\n  } else {\n    fn(val);\n  }\n};\n\nconst addAndConvert = (main, prop, item) => {\n  let container = main[prop];\n  if (!(container instanceof Set)) {\n    main[prop] = container = new Set([container]);\n  }\n  container.add(item);\n};\n\nconst clearItem = cont => key => {\n  const set = cont[key];\n  if (set instanceof Set) {\n    set.clear();\n  } else {\n    delete cont[key];\n  }\n};\n\nconst delFromSet = (main, prop, item) => {\n  const container = main[prop];\n  if (container instanceof Set) {\n    container.delete(item);\n  } else if (container === item) {\n    delete main[prop];\n  }\n};\n\nconst isEmptySet = (val) => val instanceof Set ? val.size === 0 : !val;\n\n/**\n * @typedef {String} Path\n */\n\n// fs_watch helpers\n\n// object to hold per-process fs_watch instances\n// (may be shared across chokidar FSWatcher instances)\n\n/**\n * @typedef {Object} FsWatchContainer\n * @property {Set} listeners\n * @property {Set} errHandlers\n * @property {Set} rawEmitters\n * @property {fs.FSWatcher=} watcher\n * @property {Boolean=} watcherUnusable\n */\n\n/**\n * @type {Map<String,FsWatchContainer>}\n */\nconst FsWatchInstances = new Map();\n\n/**\n * Instantiates the fs_watch interface\n * @param {String} path to be watched\n * @param {Object} options to be passed to fs_watch\n * @param {Function} listener main event handler\n * @param {Function} errHandler emits info about errors\n * @param {Function} emitRaw emits raw event data\n * @returns {fs.FSWatcher} new fsevents instance\n */\nfunction createFsWatchInstance(path, options, listener, errHandler, emitRaw) {\n  const handleEvent = (rawEvent, evPath) => {\n    listener(path);\n    emitRaw(rawEvent, evPath, {watchedPath: path});\n\n    // emit based on events occurring for files from a directory's watcher in\n    // case the file's watcher misses it (and rely on throttling to de-dupe)\n    if (evPath && path !== evPath) {\n      fsWatchBroadcast(\n        sysPath.resolve(path, evPath), KEY_LISTENERS, sysPath.join(path, evPath)\n      );\n    }\n  };\n  try {\n    return fs.watch(path, options, handleEvent);\n  } catch (error) {\n    errHandler(error);\n  }\n}\n\n/**\n * Helper for passing fs_watch event data to a collection of listeners\n * @param {Path} fullPath absolute path bound to fs_watch instance\n * @param {String} type listener type\n * @param {*=} val1 arguments to be passed to listeners\n * @param {*=} val2\n * @param {*=} val3\n */\nconst fsWatchBroadcast = (fullPath, type, val1, val2, val3) => {\n  const cont = FsWatchInstances.get(fullPath);\n  if (!cont) return;\n  foreach(cont[type], (listener) => {\n    listener(val1, val2, val3);\n  });\n};\n\n/**\n * Instantiates the fs_watch interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path\n * @param {String} fullPath absolute path\n * @param {Object} options to be passed to fs_watch\n * @param {Object} handlers container for event listener functions\n */\nconst setFsWatchListener = (path, fullPath, options, handlers) => {\n  const {listener, errHandler, rawEmitter} = handlers;\n  let cont = FsWatchInstances.get(fullPath);\n\n  /** @type {fs.FSWatcher=} */\n  let watcher;\n  if (!options.persistent) {\n    watcher = createFsWatchInstance(\n      path, options, listener, errHandler, rawEmitter\n    );\n    return watcher.close.bind(watcher);\n  }\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_ERR, errHandler);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    watcher = createFsWatchInstance(\n      path,\n      options,\n      fsWatchBroadcast.bind(null, fullPath, KEY_LISTENERS),\n      errHandler, // no need to use broadcast here\n      fsWatchBroadcast.bind(null, fullPath, KEY_RAW)\n    );\n    if (!watcher) return;\n    watcher.on(EV_ERROR, async (error) => {\n      const broadcastErr = fsWatchBroadcast.bind(null, fullPath, KEY_ERR);\n      cont.watcherUnusable = true; // documented since Node 10.4.1\n      // Workaround for https://github.com/joyent/node/issues/4337\n      if (isWindows && error.code === 'EPERM') {\n        try {\n          const fd = await open(path, 'r');\n          await close(fd);\n          broadcastErr(error);\n        } catch (err) {}\n      } else {\n        broadcastErr(error);\n      }\n    });\n    cont = {\n      listeners: listener,\n      errHandlers: errHandler,\n      rawEmitters: rawEmitter,\n      watcher\n    };\n    FsWatchInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // removes this instance's listeners and closes the underlying fs_watch\n  // instance if there are no more listeners left\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_ERR, errHandler);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      // Check to protect against issue gh-730.\n      // if (cont.watcherUnusable) {\n      cont.watcher.close();\n      // }\n      FsWatchInstances.delete(fullPath);\n      HANDLER_KEYS.forEach(clearItem(cont));\n      cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n// fs_watchFile helpers\n\n// object to hold per-process fs_watchFile instances\n// (may be shared across chokidar FSWatcher instances)\nconst FsWatchFileInstances = new Map();\n\n/**\n * Instantiates the fs_watchFile interface or binds listeners\n * to an existing one covering the same file system entry\n * @param {String} path to be watched\n * @param {String} fullPath absolute path\n * @param {Object} options options to be passed to fs_watchFile\n * @param {Object} handlers container for event listener functions\n * @returns {Function} closer\n */\nconst setFsWatchFileListener = (path, fullPath, options, handlers) => {\n  const {listener, rawEmitter} = handlers;\n  let cont = FsWatchFileInstances.get(fullPath);\n\n  /* eslint-disable no-unused-vars, prefer-destructuring */\n  let listeners = new Set();\n  let rawEmitters = new Set();\n\n  const copts = cont && cont.options;\n  if (copts && (copts.persistent < options.persistent || copts.interval > options.interval)) {\n    // \"Upgrade\" the watcher to persistence or a quicker interval.\n    // This creates some unlikely edge case issues if the user mixes\n    // settings in a very weird way, but solving for those cases\n    // doesn't seem worthwhile for the added complexity.\n    listeners = cont.listeners;\n    rawEmitters = cont.rawEmitters;\n    fs.unwatchFile(fullPath);\n    cont = undefined;\n  }\n\n  /* eslint-enable no-unused-vars, prefer-destructuring */\n\n  if (cont) {\n    addAndConvert(cont, KEY_LISTENERS, listener);\n    addAndConvert(cont, KEY_RAW, rawEmitter);\n  } else {\n    // TODO\n    // listeners.add(listener);\n    // rawEmitters.add(rawEmitter);\n    cont = {\n      listeners: listener,\n      rawEmitters: rawEmitter,\n      options,\n      watcher: fs.watchFile(fullPath, options, (curr, prev) => {\n        foreach(cont.rawEmitters, (rawEmitter) => {\n          rawEmitter(EV_CHANGE, fullPath, {curr, prev});\n        });\n        const currmtime = curr.mtimeMs;\n        if (curr.size !== prev.size || currmtime > prev.mtimeMs || currmtime === 0) {\n          foreach(cont.listeners, (listener) => listener(path, curr));\n        }\n      })\n    };\n    FsWatchFileInstances.set(fullPath, cont);\n  }\n  // const index = cont.listeners.indexOf(listener);\n\n  // Removes this instance's listeners and closes the underlying fs_watchFile\n  // instance if there are no more listeners left.\n  return () => {\n    delFromSet(cont, KEY_LISTENERS, listener);\n    delFromSet(cont, KEY_RAW, rawEmitter);\n    if (isEmptySet(cont.listeners)) {\n      FsWatchFileInstances.delete(fullPath);\n      fs.unwatchFile(fullPath);\n      cont.options = cont.watcher = undefined;\n      Object.freeze(cont);\n    }\n  };\n};\n\n/**\n * @mixin\n */\nclass NodeFsHandler {\n\n/**\n * @param {import(\"../index\").FSWatcher} fsW\n */\nconstructor(fsW) {\n  this.fsw = fsW;\n  this._boundHandleError = (error) => fsW._handleError(error);\n}\n\n/**\n * Watch file for changes with fs_watchFile or fs_watch.\n * @param {String} path to file or dir\n * @param {Function} listener on fs change\n * @returns {Function} closer for the watcher instance\n */\n_watchWithNodeFs(path, listener) {\n  const opts = this.fsw.options;\n  const directory = sysPath.dirname(path);\n  const basename = sysPath.basename(path);\n  const parent = this.fsw._getWatchedDir(directory);\n  parent.add(basename);\n  const absolutePath = sysPath.resolve(path);\n  const options = {persistent: opts.persistent};\n  if (!listener) listener = EMPTY_FN;\n\n  let closer;\n  if (opts.usePolling) {\n    options.interval = opts.enableBinaryInterval && isBinaryPath(basename) ?\n      opts.binaryInterval : opts.interval;\n    closer = setFsWatchFileListener(path, absolutePath, options, {\n      listener,\n      rawEmitter: this.fsw._emitRaw\n    });\n  } else {\n    closer = setFsWatchListener(path, absolutePath, options, {\n      listener,\n      errHandler: this._boundHandleError,\n      rawEmitter: this.fsw._emitRaw\n    });\n  }\n  return closer;\n}\n\n/**\n * Watch a file and emit add event if warranted.\n * @param {Path} file Path\n * @param {fs.Stats} stats result of fs_stat\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @returns {Function} closer for the watcher instance\n */\n_handleFile(file, stats, initialAdd) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const dirname = sysPath.dirname(file);\n  const basename = sysPath.basename(file);\n  const parent = this.fsw._getWatchedDir(dirname);\n  // stats is always present\n  let prevStats = stats;\n\n  // if the file is already being watched, do nothing\n  if (parent.has(basename)) return;\n\n  const listener = async (path, newStats) => {\n    if (!this.fsw._throttle(THROTTLE_MODE_WATCH, file, 5)) return;\n    if (!newStats || newStats.mtimeMs === 0) {\n      try {\n        const newStats = await stat(file);\n        if (this.fsw.closed) return;\n        // Check that change event was not fired because of changed only accessTime.\n        const at = newStats.atimeMs;\n        const mt = newStats.mtimeMs;\n        if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n          this.fsw._emit(EV_CHANGE, file, newStats);\n        }\n        if (isLinux && prevStats.ino !== newStats.ino) {\n          this.fsw._closeFile(path)\n          prevStats = newStats;\n          this.fsw._addPathCloser(path, this._watchWithNodeFs(file, listener));\n        } else {\n          prevStats = newStats;\n        }\n      } catch (error) {\n        // Fix issues where mtime is null but file is still present\n        this.fsw._remove(dirname, basename);\n      }\n      // add is about to be emitted if file not already tracked in parent\n    } else if (parent.has(basename)) {\n      // Check that change event was not fired because of changed only accessTime.\n      const at = newStats.atimeMs;\n      const mt = newStats.mtimeMs;\n      if (!at || at <= mt || mt !== prevStats.mtimeMs) {\n        this.fsw._emit(EV_CHANGE, file, newStats);\n      }\n      prevStats = newStats;\n    }\n  }\n  // kick off the watcher\n  const closer = this._watchWithNodeFs(file, listener);\n\n  // emit an add event if we're supposed to\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && this.fsw._isntIgnored(file)) {\n    if (!this.fsw._throttle(EV_ADD, file, 0)) return;\n    this.fsw._emit(EV_ADD, file, stats);\n  }\n\n  return closer;\n}\n\n/**\n * Handle symlinks encountered while reading a dir.\n * @param {Object} entry returned by readdirp\n * @param {String} directory path of dir being read\n * @param {String} path of this item\n * @param {String} item basename of this item\n * @returns {Promise<Boolean>} true if no more processing is needed for this entry.\n */\nasync _handleSymlink(entry, directory, path, item) {\n  if (this.fsw.closed) {\n    return;\n  }\n  const full = entry.fullPath;\n  const dir = this.fsw._getWatchedDir(directory);\n\n  if (!this.fsw.options.followSymlinks) {\n    // watch symlink directly (don't follow) and detect changes\n    this.fsw._incrReadyCount();\n\n    let linkPath;\n    try {\n      linkPath = await fsrealpath(path);\n    } catch (e) {\n      this.fsw._emitReady();\n      return true;\n    }\n\n    if (this.fsw.closed) return;\n    if (dir.has(item)) {\n      if (this.fsw._symlinkPaths.get(full) !== linkPath) {\n        this.fsw._symlinkPaths.set(full, linkPath);\n        this.fsw._emit(EV_CHANGE, path, entry.stats);\n      }\n    } else {\n      dir.add(item);\n      this.fsw._symlinkPaths.set(full, linkPath);\n      this.fsw._emit(EV_ADD, path, entry.stats);\n    }\n    this.fsw._emitReady();\n    return true;\n  }\n\n  // don't follow the same symlink more than once\n  if (this.fsw._symlinkPaths.has(full)) {\n    return true;\n  }\n\n  this.fsw._symlinkPaths.set(full, true);\n}\n\n_handleRead(directory, initialAdd, wh, target, dir, depth, throttler) {\n  // Normalize the directory name on Windows\n  directory = sysPath.join(directory, EMPTY_STR);\n\n  if (!wh.hasGlob) {\n    throttler = this.fsw._throttle('readdir', directory, 1000);\n    if (!throttler) return;\n  }\n\n  const previous = this.fsw._getWatchedDir(wh.path);\n  const current = new Set();\n\n  let stream = this.fsw._readdirp(directory, {\n    fileFilter: entry => wh.filterPath(entry),\n    directoryFilter: entry => wh.filterDir(entry),\n    depth: 0\n  }).on(STR_DATA, async (entry) => {\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    const item = entry.path;\n    let path = sysPath.join(directory, item);\n    current.add(item);\n\n    if (entry.stats.isSymbolicLink() && await this._handleSymlink(entry, directory, path, item)) {\n      return;\n    }\n\n    if (this.fsw.closed) {\n      stream = undefined;\n      return;\n    }\n    // Files that present in current directory snapshot\n    // but absent in previous are added to watch list and\n    // emit `add` event.\n    if (item === target || !target && !previous.has(item)) {\n      this.fsw._incrReadyCount();\n\n      // ensure relativeness of path is preserved in case of watcher reuse\n      path = sysPath.join(dir, sysPath.relative(dir, path));\n\n      this._addToNodeFs(path, initialAdd, wh, depth + 1);\n    }\n  }).on(EV_ERROR, this._boundHandleError);\n\n  return new Promise(resolve =>\n    stream.once(STR_END, () => {\n      if (this.fsw.closed) {\n        stream = undefined;\n        return;\n      }\n      const wasThrottled = throttler ? throttler.clear() : false;\n\n      resolve();\n\n      // Files that absent in current directory snapshot\n      // but present in previous emit `remove` event\n      // and are removed from @watched[directory].\n      previous.getChildren().filter((item) => {\n        return item !== directory &&\n          !current.has(item) &&\n          // in case of intersecting globs;\n          // a path may have been filtered out of this readdir, but\n          // shouldn't be removed because it matches a different glob\n          (!wh.hasGlob || wh.filterPath({\n            fullPath: sysPath.resolve(directory, item)\n          }));\n      }).forEach((item) => {\n        this.fsw._remove(directory, item);\n      });\n\n      stream = undefined;\n\n      // one more time for any missed in case changes came in extremely quickly\n      if (wasThrottled) this._handleRead(directory, false, wh, target, dir, depth, throttler);\n    })\n  );\n}\n\n/**\n * Read directory to add / remove files from `@watched` list and re-read it on change.\n * @param {String} dir fs path\n * @param {fs.Stats} stats\n * @param {Boolean} initialAdd\n * @param {Number} depth relative to user-supplied path\n * @param {String} target child path targeted for watch\n * @param {Object} wh Common watch helpers for this path\n * @param {String} realpath\n * @returns {Promise<Function>} closer for the watcher instance.\n */\nasync _handleDir(dir, stats, initialAdd, depth, target, wh, realpath) {\n  const parentDir = this.fsw._getWatchedDir(sysPath.dirname(dir));\n  const tracked = parentDir.has(sysPath.basename(dir));\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && !target && !tracked) {\n    if (!wh.hasGlob || wh.globFilter(dir)) this.fsw._emit(EV_ADD_DIR, dir, stats);\n  }\n\n  // ensure dir is tracked (harmless if redundant)\n  parentDir.add(sysPath.basename(dir));\n  this.fsw._getWatchedDir(dir);\n  let throttler;\n  let closer;\n\n  const oDepth = this.fsw.options.depth;\n  if ((oDepth == null || depth <= oDepth) && !this.fsw._symlinkPaths.has(realpath)) {\n    if (!target) {\n      await this._handleRead(dir, initialAdd, wh, target, dir, depth, throttler);\n      if (this.fsw.closed) return;\n    }\n\n    closer = this._watchWithNodeFs(dir, (dirPath, stats) => {\n      // if current directory is removed, do nothing\n      if (stats && stats.mtimeMs === 0) return;\n\n      this._handleRead(dirPath, false, wh, target, dir, depth, throttler);\n    });\n  }\n  return closer;\n}\n\n/**\n * Handle added file, directory, or glob pattern.\n * Delegates call to _handleFile / _handleDir after checks.\n * @param {String} path to file or ir\n * @param {Boolean} initialAdd was the file added at watch instantiation?\n * @param {Object} priorWh depth relative to user-supplied path\n * @param {Number} depth Child path actually targeted for watch\n * @param {String=} target Child path actually targeted for watch\n * @returns {Promise}\n */\nasync _addToNodeFs(path, initialAdd, priorWh, depth, target) {\n  const ready = this.fsw._emitReady;\n  if (this.fsw._isIgnored(path) || this.fsw.closed) {\n    ready();\n    return false;\n  }\n\n  const wh = this.fsw._getWatchHelpers(path, depth);\n  if (!wh.hasGlob && priorWh) {\n    wh.hasGlob = priorWh.hasGlob;\n    wh.globFilter = priorWh.globFilter;\n    wh.filterPath = entry => priorWh.filterPath(entry);\n    wh.filterDir = entry => priorWh.filterDir(entry);\n  }\n\n  // evaluate what is at the path we're being asked to watch\n  try {\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\n    if (this.fsw.closed) return;\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\n      ready();\n      return false;\n    }\n\n    const follow = this.fsw.options.followSymlinks && !path.includes(STAR) && !path.includes(BRACE_START);\n    let closer;\n    if (stats.isDirectory()) {\n      const absPath = sysPath.resolve(path);\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      closer = await this._handleDir(wh.watchPath, stats, initialAdd, depth, target, wh, targetPath);\n      if (this.fsw.closed) return;\n      // preserve this symlink's target path\n      if (absPath !== targetPath && targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(absPath, targetPath);\n      }\n    } else if (stats.isSymbolicLink()) {\n      const targetPath = follow ? await fsrealpath(path) : path;\n      if (this.fsw.closed) return;\n      const parent = sysPath.dirname(wh.watchPath);\n      this.fsw._getWatchedDir(parent).add(wh.watchPath);\n      this.fsw._emit(EV_ADD, wh.watchPath, stats);\n      closer = await this._handleDir(parent, stats, initialAdd, depth, path, wh, targetPath);\n      if (this.fsw.closed) return;\n\n      // preserve this symlink's target path\n      if (targetPath !== undefined) {\n        this.fsw._symlinkPaths.set(sysPath.resolve(path), targetPath);\n      }\n    } else {\n      closer = this._handleFile(wh.watchPath, stats, initialAdd);\n    }\n    ready();\n\n    this.fsw._addPathCloser(path, closer);\n    return false;\n\n  } catch (error) {\n    if (this.fsw._handleError(error)) {\n      ready();\n      return path;\n    }\n  }\n}\n\n}\n\nmodule.exports = NodeFsHandler;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\ntry {\n  const bufferUtil = require('bufferutil');\n\n  module.exports = {\n    concat,\n    mask(source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    },\n    toArrayBuffer,\n    toBuffer,\n    unmask(buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    concat,\n    mask: _mask,\n    toArrayBuffer,\n    toBuffer,\n    unmask: _unmask\n  };\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, listener, options = {}) {\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = listener;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {Function} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n      if (this._masked) unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst mask = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   */\n  constructor(socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame(data, options) {\n    const merge = options.mask && options.readOnly;\n    let offset = options.mask ? 6 : 2;\n    let payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2);\n      target.writeUInt32BE(data.length, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    randomFillSync(mask, 0, 4);\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doClose(data, mask, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x08,\n        mask,\n        readOnly: false\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPing(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPing(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x09,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPong(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPong(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x0a,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const buf = toBuffer(data);\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = buf.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly: toBuffer.readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, buf, this._compress, opts, cb]);\n      } else {\n        this.dispatch(buf, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(buf, {\n          fin: options.fin,\n          rsv1: false,\n          opcode,\n          mask: options.mask,\n          readOnly: toBuffer.readOnly\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += data.length;\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const callback = this._queue[i][4];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= data.length;\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let resumeOnReceiverDrain = true;\n  let terminateOnDestroy = true;\n\n  function receiverOnDrain() {\n    if (resumeOnReceiverDrain) ws._socket.resume();\n  }\n\n  if (ws.readyState === ws.CONNECTING) {\n    ws.once('open', function open() {\n      ws._receiver.removeAllListeners('drain');\n      ws._receiver.on('drain', receiverOnDrain);\n    });\n  } else {\n    ws._receiver.removeAllListeners('drain');\n    ws._receiver.on('drain', receiverOnDrain);\n  }\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) {\n      resumeOnReceiverDrain = false;\n      ws._socket.pause();\n    }\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.readyState === ws.OPEN && !resumeOnReceiverDrain) {\n      resumeOnReceiverDrain = true;\n      if (!ws._receiver._writableState.needDrain) ws._socket.resume();\n    }\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ntry {\n  const isValidUTF8 = require('utf-8-validate');\n\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8(buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    },\n    tokenChars\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8: _isValidUTF8,\n    tokenChars\n  };\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key =\n      req.headers['sec-websocket-key'] !== undefined\n        ? req.headers['sec-websocket-key']\n        : false;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (\n      req.method !== 'GET' ||\n      req.headers.upgrade.toLowerCase() !== 'websocket' ||\n      !key ||\n      !keyRegex.test(key) ||\n      (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortHandshake(socket, 400);\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    headers = {\n      Connection: 'close',\n      'Content-Type': 'text/html',\n      'Content-Length': Buffer.byteLength(message),\n      ...headers\n    };\n\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n        Object.keys(headers)\n          .map((h) => `${h}: ${headers[h]}`)\n          .join('\\r\\n') +\n        '\\r\\n\\r\\n' +\n        message\n    );\n  }\n\n  socket.removeListener('error', socketOnError);\n  socket.destroy();\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: undefined,\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isUnixSocket) {\n    throw new SyntaxError(\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"'\n    );\n  }\n\n  if (isUnixSocket && !parsedUrl.pathname) {\n    throw new SyntaxError(\"The URL's pathname is empty\");\n  }\n\n  if (parsedUrl.hash) {\n    throw new SyntaxError('The URL contains a fragment identifier');\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const get = isSecure ? https.get : http.get;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket',\n    ...opts.headers\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req = (websocket._req = get(opts));\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req.aborted) return;\n\n    req = websocket._req = null;\n    websocket._readyState = WebSocket.CLOSING;\n    websocket.emit('error', err);\n    websocket.emitClose();\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      const addr = new URL(location, address);\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the `upgrade`\n    // event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    stream.once('abort', websocket.emitClose.bind(websocket));\n    websocket.emit('error', err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  this[kWebSocket]._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n","/*\n **  2020 by Philipp Dunkel, Ben Noordhuis, Elan Shankar, Paul Miller\n ** Licensed under MIT License.\n */\n\n/* jshint node:true */\n\"use strict\";\n\nif (process.platform !== \"darwin\") {\n  throw new Error(`Module 'fsevents' is not compatible with platform '${process.platform}'`);\n}\n\nconst Native = require(\"./fsevents.node\");\nconst events = Native.constants;\n\nfunction watch(path, since, handler) {\n  if (typeof path !== \"string\") {\n    throw new TypeError(`fsevents argument 1 must be a string and not a ${typeof path}`);\n  }\n  if (\"function\" === typeof since && \"undefined\" === typeof handler) {\n    handler = since;\n    since = Native.flags.SinceNow;\n  }\n  if (typeof since !== \"number\") {\n    throw new TypeError(`fsevents argument 2 must be a number and not a ${typeof since}`);\n  }\n  if (typeof handler !== \"function\") {\n    throw new TypeError(`fsevents argument 3 must be a function and not a ${typeof handler}`);\n  }\n\n  let instance = Native.start(Native.global, path, since, handler);\n  if (!instance) throw new Error(`could not watch: ${path}`);\n  return () => {\n    const result = instance ? Promise.resolve(instance).then(Native.stop) : Promise.resolve(undefined);\n    instance = undefined;\n    return result;\n  };\n}\n\nfunction getInfo(path, flags) {\n  return {\n    path,\n    flags,\n    event: getEventType(flags),\n    type: getFileType(flags),\n    changes: getFileChanges(flags),\n  };\n}\n\nfunction getFileType(flags) {\n  if (events.ItemIsFile & flags) return \"file\";\n  if (events.ItemIsDir & flags) return \"directory\";\n  if (events.ItemIsSymlink & flags) return \"symlink\";\n}\nfunction anyIsTrue(obj) {\n  for (let key in obj) {\n    if (obj[key]) return true;\n  }\n  return false;\n}\nfunction getEventType(flags) {\n  if (events.ItemRemoved & flags) return \"deleted\";\n  if (events.ItemRenamed & flags) return \"moved\";\n  if (events.ItemCreated & flags) return \"created\";\n  if (events.ItemModified & flags) return \"modified\";\n  if (events.RootChanged & flags) return \"root-changed\";\n  if (events.ItemCloned & flags) return \"cloned\";\n  if (anyIsTrue(flags)) return \"modified\";\n  return \"unknown\";\n}\nfunction getFileChanges(flags) {\n  return {\n    inode: !!(events.ItemInodeMetaMod & flags),\n    finder: !!(events.ItemFinderInfoMod & flags),\n    access: !!(events.ItemChangeOwner & flags),\n    xattrs: !!(events.ItemXattrMod & flags),\n  };\n}\n\nexports.watch = watch;\nexports.getInfo = getInfo;\nexports.constants = events;\n","'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst path = require('path');\nconst binaryExtensions = require('binary-extensions');\n\nconst extensions = new Set(binaryExtensions);\n\nmodule.exports = filePath => extensions.has(path.extname(filePath).slice(1).toLowerCase());\n","/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n","/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  var pipeIndex = -2;\n  var closeSquareIndex = -2;\n  var closeCurlyIndex = -2;\n  var closeParenIndex = -2;\n  var backSlashIndex = -2;\n  while (index < str.length) {\n    if (str[index] === '*') {\n      return true;\n    }\n\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\n      return true;\n    }\n\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\n      if (closeSquareIndex < index) {\n        closeSquareIndex = str.indexOf(']', index);\n      }\n      if (closeSquareIndex > index) {\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\n      closeCurlyIndex = str.indexOf('}', index);\n      if (closeCurlyIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\n      closeParenIndex = str.indexOf(')', index);\n      if (closeParenIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\n      if (pipeIndex < index) {\n        pipeIndex = str.indexOf('|', index);\n      }\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\n        closeParenIndex = str.indexOf(')', pipeIndex);\n        if (closeParenIndex > pipeIndex) {\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nvar relaxedCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  while (index < str.length) {\n    if (/[*?{}()[\\]]/.test(str[index])) {\n      return true;\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var check = strictCheck;\n\n  // optionally relax check\n  if (options && options.strict === false) {\n    check = relaxedCheck;\n  }\n\n  return check(str);\n};\n","/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var fs = require('fs')\nvar path = require('path')\nvar os = require('os')\n\n// Workaround to fix webpack's build warnings: 'the request of a dependency is an expression'\nvar runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require // eslint-disable-line\n\nvar vars = (process.config && process.config.variables) || {}\nvar prebuildsOnly = !!process.env.PREBUILDS_ONLY\nvar abi = process.versions.modules // TODO: support old node where this is undef\nvar runtime = isElectron() ? 'electron' : 'node'\nvar arch = os.arch()\nvar platform = os.platform()\nvar libc = process.env.LIBC || (isAlpine(platform) ? 'musl' : 'glibc')\nvar armv = process.env.ARM_VERSION || (arch === 'arm64' ? '8' : vars.arm_version) || ''\nvar uv = (process.versions.uv || '').split('.')[0]\n\nmodule.exports = load\n\nfunction load (dir) {\n  return runtimeRequire(load.path(dir))\n}\n\nload.path = function (dir) {\n  dir = path.resolve(dir || '.')\n\n  try {\n    var name = runtimeRequire(path.join(dir, 'package.json')).name.toUpperCase().replace(/-/g, '_')\n    if (process.env[name + '_PREBUILD']) dir = process.env[name + '_PREBUILD']\n  } catch (err) {}\n\n  if (!prebuildsOnly) {\n    var release = getFirst(path.join(dir, 'build/Release'), matchBuild)\n    if (release) return release\n\n    var debug = getFirst(path.join(dir, 'build/Debug'), matchBuild)\n    if (debug) return debug\n  }\n\n  var prebuild = resolve(dir)\n  if (prebuild) return prebuild\n\n  var nearby = resolve(path.dirname(process.execPath))\n  if (nearby) return nearby\n\n  var target = [\n    'platform=' + platform,\n    'arch=' + arch,\n    'runtime=' + runtime,\n    'abi=' + abi,\n    'uv=' + uv,\n    armv ? 'armv=' + armv : '',\n    'libc=' + libc,\n    'node=' + process.versions.node,\n    process.versions.electron ? 'electron=' + process.versions.electron : '',\n    typeof __webpack_require__ === 'function' ? 'webpack=true' : '' // eslint-disable-line\n  ].filter(Boolean).join(' ')\n\n  throw new Error('No native build was found for ' + target + '\\n    loaded from: ' + dir + '\\n')\n\n  function resolve (dir) {\n    // Find matching \"prebuilds/<platform>-<arch>\" directory\n    var tuples = readdirSync(path.join(dir, 'prebuilds')).map(parseTuple)\n    var tuple = tuples.filter(matchTuple(platform, arch)).sort(compareTuples)[0]\n    if (!tuple) return\n\n    // Find most specific flavor first\n    var prebuilds = path.join(dir, 'prebuilds', tuple.name)\n    var parsed = readdirSync(prebuilds).map(parseTags)\n    var candidates = parsed.filter(matchTags(runtime, abi))\n    var winner = candidates.sort(compareTags(runtime))[0]\n    if (winner) return path.join(prebuilds, winner.file)\n  }\n}\n\nfunction readdirSync (dir) {\n  try {\n    return fs.readdirSync(dir)\n  } catch (err) {\n    return []\n  }\n}\n\nfunction getFirst (dir, filter) {\n  var files = readdirSync(dir).filter(filter)\n  return files[0] && path.join(dir, files[0])\n}\n\nfunction matchBuild (name) {\n  return /\\.node$/.test(name)\n}\n\nfunction parseTuple (name) {\n  // Example: darwin-x64+arm64\n  var arr = name.split('-')\n  if (arr.length !== 2) return\n\n  var platform = arr[0]\n  var architectures = arr[1].split('+')\n\n  if (!platform) return\n  if (!architectures.length) return\n  if (!architectures.every(Boolean)) return\n\n  return { name, platform, architectures }\n}\n\nfunction matchTuple (platform, arch) {\n  return function (tuple) {\n    if (tuple == null) return false\n    if (tuple.platform !== platform) return false\n    return tuple.architectures.includes(arch)\n  }\n}\n\nfunction compareTuples (a, b) {\n  // Prefer single-arch prebuilds over multi-arch\n  return a.architectures.length - b.architectures.length\n}\n\nfunction parseTags (file) {\n  var arr = file.split('.')\n  var extension = arr.pop()\n  var tags = { file: file, specificity: 0 }\n\n  if (extension !== 'node') return\n\n  for (var i = 0; i < arr.length; i++) {\n    var tag = arr[i]\n\n    if (tag === 'node' || tag === 'electron' || tag === 'node-webkit') {\n      tags.runtime = tag\n    } else if (tag === 'napi') {\n      tags.napi = true\n    } else if (tag.slice(0, 3) === 'abi') {\n      tags.abi = tag.slice(3)\n    } else if (tag.slice(0, 2) === 'uv') {\n      tags.uv = tag.slice(2)\n    } else if (tag.slice(0, 4) === 'armv') {\n      tags.armv = tag.slice(4)\n    } else if (tag === 'glibc' || tag === 'musl') {\n      tags.libc = tag\n    } else {\n      continue\n    }\n\n    tags.specificity++\n  }\n\n  return tags\n}\n\nfunction matchTags (runtime, abi) {\n  return function (tags) {\n    if (tags == null) return false\n    if (tags.runtime !== runtime && !runtimeAgnostic(tags)) return false\n    if (tags.abi !== abi && !tags.napi) return false\n    if (tags.uv && tags.uv !== uv) return false\n    if (tags.armv && tags.armv !== armv) return false\n    if (tags.libc && tags.libc !== libc) return false\n\n    return true\n  }\n}\n\nfunction runtimeAgnostic (tags) {\n  return tags.runtime === 'node' && tags.napi\n}\n\nfunction compareTags (runtime) {\n  // Precedence: non-agnostic runtime, abi over napi, then by specificity.\n  return function (a, b) {\n    if (a.runtime !== b.runtime) {\n      return a.runtime === runtime ? -1 : 1\n    } else if (a.abi !== b.abi) {\n      return a.abi ? -1 : 1\n    } else if (a.specificity !== b.specificity) {\n      return a.specificity > b.specificity ? -1 : 1\n    } else {\n      return 0\n    }\n  }\n}\n\nfunction isElectron () {\n  if (process.versions && process.versions.electron) return true\n  if (process.env.ELECTRON_RUN_AS_NODE) return true\n  return typeof window !== 'undefined' && window.process && window.process.type === 'renderer'\n}\n\nfunction isAlpine (platform) {\n  return platform === 'linux' && fs.existsSync('/etc/alpine-release')\n}\n\n// Exposed for unit tests\n// TODO: move to lib\nload.parseTags = parseTags\nload.matchTags = matchTags\nload.compareTags = compareTags\nload.parseTuple = parseTuple\nload.matchTuple = matchTuple\nload.compareTuples = compareTuples\n","\ntry {\n  process.dlopen(module, __dirname + require(\"path\").sep + __webpack_public_path__ + \"1463a26331df3b0b4d694b076097b2dd.node\");\n} catch (error) {\n  throw new Error('node-loader:\\n' + error);\n}\n","/*!\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nmodule.exports = function(path, stripTrailing) {\n  if (typeof path !== 'string') {\n    throw new TypeError('expected path to be a string');\n  }\n\n  if (path === '\\\\' || path === '/') return '/';\n\n  var len = path.length;\n  if (len <= 1) return path;\n\n  // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n  var prefix = '';\n  if (len > 4 && path[3] === '\\\\') {\n    var ch = path[2];\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  var segs = path.split(/[/\\\\]+/);\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n  return prefix + segs.join('/');\n};\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","'use strict';\n\nconst fs = require('fs');\nconst { Readable } = require('stream');\nconst sysPath = require('path');\nconst { promisify } = require('util');\nconst picomatch = require('picomatch');\n\nconst readdir = promisify(fs.readdir);\nconst stat = promisify(fs.stat);\nconst lstat = promisify(fs.lstat);\nconst realpath = promisify(fs.realpath);\n\n/**\n * @typedef {Object} EntryInfo\n * @property {String} path\n * @property {String} fullPath\n * @property {fs.Stats=} stats\n * @property {fs.Dirent=} dirent\n * @property {String} basename\n */\n\nconst BANG = '!';\nconst RECURSIVE_ERROR_CODE = 'READDIRP_RECURSIVE_ERROR';\nconst NORMAL_FLOW_ERRORS = new Set(['ENOENT', 'EPERM', 'EACCES', 'ELOOP', RECURSIVE_ERROR_CODE]);\nconst FILE_TYPE = 'files';\nconst DIR_TYPE = 'directories';\nconst FILE_DIR_TYPE = 'files_directories';\nconst EVERYTHING_TYPE = 'all';\nconst ALL_TYPES = [FILE_TYPE, DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE];\n\nconst isNormalFlowError = error => NORMAL_FLOW_ERRORS.has(error.code);\nconst [maj, min] = process.versions.node.split('.').slice(0, 2).map(n => Number.parseInt(n, 10));\nconst wantBigintFsStats = process.platform === 'win32' && (maj > 10 || (maj === 10 && min >= 5));\n\nconst normalizeFilter = filter => {\n  if (filter === undefined) return;\n  if (typeof filter === 'function') return filter;\n\n  if (typeof filter === 'string') {\n    const glob = picomatch(filter.trim());\n    return entry => glob(entry.basename);\n  }\n\n  if (Array.isArray(filter)) {\n    const positive = [];\n    const negative = [];\n    for (const item of filter) {\n      const trimmed = item.trim();\n      if (trimmed.charAt(0) === BANG) {\n        negative.push(picomatch(trimmed.slice(1)));\n      } else {\n        positive.push(picomatch(trimmed));\n      }\n    }\n\n    if (negative.length > 0) {\n      if (positive.length > 0) {\n        return entry =>\n          positive.some(f => f(entry.basename)) && !negative.some(f => f(entry.basename));\n      }\n      return entry => !negative.some(f => f(entry.basename));\n    }\n    return entry => positive.some(f => f(entry.basename));\n  }\n};\n\nclass ReaddirpStream extends Readable {\n  static get defaultOptions() {\n    return {\n      root: '.',\n      /* eslint-disable no-unused-vars */\n      fileFilter: (path) => true,\n      directoryFilter: (path) => true,\n      /* eslint-enable no-unused-vars */\n      type: FILE_TYPE,\n      lstat: false,\n      depth: 2147483648,\n      alwaysStat: false\n    };\n  }\n\n  constructor(options = {}) {\n    super({\n      objectMode: true,\n      autoDestroy: true,\n      highWaterMark: options.highWaterMark || 4096\n    });\n    const opts = { ...ReaddirpStream.defaultOptions, ...options };\n    const { root, type } = opts;\n\n    this._fileFilter = normalizeFilter(opts.fileFilter);\n    this._directoryFilter = normalizeFilter(opts.directoryFilter);\n\n    const statMethod = opts.lstat ? lstat : stat;\n    // Use bigint stats if it's windows and stat() supports options (node 10+).\n    if (wantBigintFsStats) {\n      this._stat = path => statMethod(path, { bigint: true });\n    } else {\n      this._stat = statMethod;\n    }\n\n    this._maxDepth = opts.depth;\n    this._wantsDir = [DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsFile = [FILE_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\n    this._wantsEverything = type === EVERYTHING_TYPE;\n    this._root = sysPath.resolve(root);\n    this._isDirent = ('Dirent' in fs) && !opts.alwaysStat;\n    this._statsProp = this._isDirent ? 'dirent' : 'stats';\n    this._rdOptions = { encoding: 'utf8', withFileTypes: this._isDirent };\n\n    // Launch stream with one parent, the root dir.\n    this.parents = [this._exploreDir(root, 1)];\n    this.reading = false;\n    this.parent = undefined;\n  }\n\n  async _read(batch) {\n    if (this.reading) return;\n    this.reading = true;\n\n    try {\n      while (!this.destroyed && batch > 0) {\n        const { path, depth, files = [] } = this.parent || {};\n\n        if (files.length > 0) {\n          const slice = files.splice(0, batch).map(dirent => this._formatEntry(dirent, path));\n          for (const entry of await Promise.all(slice)) {\n            if (this.destroyed) return;\n\n            const entryType = await this._getEntryType(entry);\n            if (entryType === 'directory' && this._directoryFilter(entry)) {\n              if (depth <= this._maxDepth) {\n                this.parents.push(this._exploreDir(entry.fullPath, depth + 1));\n              }\n\n              if (this._wantsDir) {\n                this.push(entry);\n                batch--;\n              }\n            } else if ((entryType === 'file' || this._includeAsFile(entry)) && this._fileFilter(entry)) {\n              if (this._wantsFile) {\n                this.push(entry);\n                batch--;\n              }\n            }\n          }\n        } else {\n          const parent = this.parents.pop();\n          if (!parent) {\n            this.push(null);\n            break;\n          }\n          this.parent = await parent;\n          if (this.destroyed) return;\n        }\n      }\n    } catch (error) {\n      this.destroy(error);\n    } finally {\n      this.reading = false;\n    }\n  }\n\n  async _exploreDir(path, depth) {\n    let files;\n    try {\n      files = await readdir(path, this._rdOptions);\n    } catch (error) {\n      this._onError(error);\n    }\n    return { files, depth, path };\n  }\n\n  async _formatEntry(dirent, path) {\n    let entry;\n    try {\n      const basename = this._isDirent ? dirent.name : dirent;\n      const fullPath = sysPath.resolve(sysPath.join(path, basename));\n      entry = { path: sysPath.relative(this._root, fullPath), fullPath, basename };\n      entry[this._statsProp] = this._isDirent ? dirent : await this._stat(fullPath);\n    } catch (err) {\n      this._onError(err);\n    }\n    return entry;\n  }\n\n  _onError(err) {\n    if (isNormalFlowError(err) && !this.destroyed) {\n      this.emit('warn', err);\n    } else {\n      this.destroy(err);\n    }\n  }\n\n  async _getEntryType(entry) {\n    // entry may be undefined, because a warning or an error were emitted\n    // and the statsProp is undefined\n    const stats = entry && entry[this._statsProp];\n    if (!stats) {\n      return;\n    }\n    if (stats.isFile()) {\n      return 'file';\n    }\n    if (stats.isDirectory()) {\n      return 'directory';\n    }\n    if (stats && stats.isSymbolicLink()) {\n      const full = entry.fullPath;\n      try {\n        const entryRealPath = await realpath(full);\n        const entryRealPathStats = await lstat(entryRealPath);\n        if (entryRealPathStats.isFile()) {\n          return 'file';\n        }\n        if (entryRealPathStats.isDirectory()) {\n          const len = entryRealPath.length;\n          if (full.startsWith(entryRealPath) && full.substr(len, 1) === sysPath.sep) {\n            const recursiveError = new Error(\n              `Circular symlink detected: \"${full}\" points to \"${entryRealPath}\"`\n            );\n            recursiveError.code = RECURSIVE_ERROR_CODE;\n            return this._onError(recursiveError);\n          }\n          return 'directory';\n        }\n      } catch (error) {\n        this._onError(error);\n      }\n    }\n  }\n\n  _includeAsFile(entry) {\n    const stats = entry && entry[this._statsProp];\n\n    return stats && this._wantsEverything && !stats.isDirectory();\n  }\n}\n\n/**\n * @typedef {Object} ReaddirpArguments\n * @property {Function=} fileFilter\n * @property {Function=} directoryFilter\n * @property {String=} type\n * @property {Number=} depth\n * @property {String=} root\n * @property {Boolean=} lstat\n * @property {Boolean=} bigint\n */\n\n/**\n * Main function which ends up calling readdirRec and reads all files and directories in given root recursively.\n * @param {String} root Root directory\n * @param {ReaddirpArguments=} options Options to specify root (start directory), filters and recursion depth\n */\nconst readdirp = (root, options = {}) => {\n  let type = options.entryType || options.type;\n  if (type === 'both') type = FILE_DIR_TYPE; // backwards-compatibility\n  if (type) options.type = type;\n  if (!root) {\n    throw new Error('readdirp: root argument is required. Usage: readdirp(root, options)');\n  } else if (typeof root !== 'string') {\n    throw new TypeError('readdirp: root argument must be a string. Usage: readdirp(root, options)');\n  } else if (type && !ALL_TYPES.includes(type)) {\n    throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(', ')}`);\n  }\n\n  options.root = root;\n  return new ReaddirpStream(options);\n};\n\nconst readdirpPromise = (root, options = {}) => {\n  return new Promise((resolve, reject) => {\n    const files = [];\n    readdirp(root, options)\n      .on('data', entry => files.push(entry))\n      .on('end', () => resolve(files))\n      .on('error', error => reject(error));\n  });\n};\n\nreaddirp.promise = readdirpPromise;\nreaddirp.ReaddirpStream = ReaddirpStream;\nreaddirp.default = readdirp;\n\nmodule.exports = readdirp;\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n","export * from './lib/loggerNodeService';\n","import { FSWatcher, watch } from 'chokidar';\nimport { NodeService, ELogTypes } from '@socket/shared-types';\nimport * as path from 'path';\nimport { spawn } from 'child_process';\nimport { IFile } from './types';\nimport * as fs from 'fs';\n\nconst sysLog = 'system.ts';\n\nexport class LoggerNodeService extends NodeService {\n    private appLogsPath: string;\n    private sysLogsPath: string;\n    private excludeAppLogRegexp: RegExp;\n    private excludeSysLogRegexp: RegExp;\n    private watcher: FSWatcher;\n    private mapFiles: Map<string, IFile> = new Map();\n\n    constructor(\n        nodeId: number,\n        url: string,\n        appLogsPath: string,\n        sysLogsPath: string,\n        exclude: any\n    ) {\n        super(nodeId, url);\n        this.nodeId = nodeId;\n        this.appLogsPath = appLogsPath;\n        this.sysLogsPath = sysLogsPath;\n        this.excludeAppLogRegexp = new RegExp(\n            `(${exclude.applog.join('|')})`,\n            'i'\n        );\n        this.excludeSysLogRegexp = new RegExp(\n            `(${exclude.syslog.join('|')})`,\n            'i'\n        );\n        this.watcher = watch(this.appLogsPath, {\n            ignoreInitial: true,\n        });\n    }\n\n    // init() {\n    //     this.socket.on('connect', this.watch.bind(this));\n\n    // this.socket.on('message', this.onMessage);\n\n    //     this.socket.on('error', (error) => console.log('Ooops', error));\n    // }\n    init() {\n        this.socket.on('connect', this._watchAll.bind(this));\n        this.socket.on('message', (jsonData) => this._onMessage(jsonData));\n        this.socket.on('error', (error) => console.log('Ooops', error));\n    }\n\n    // private watch() {\n    //     this.watcher.on('add', (path) => {\n    //         const data = this.converter(path);\n    //         this.send(data);\n    //     });\n\n    //     this.watcher.on('unlink', (path) => {\n    //         // this.mapFiles.delete(path);\n    //         console.log(`File ${path} has been removed`, this.mapFiles);\n    //     });\n\n    //     this.watcher.on('ready', () => {\n    //         console.log(\n    //             `WatcherID: \"${this.socket.id}\" ready to changes!!!`,\n    //             this.mapFiles\n    //         );\n    //     });\n    // }\n\n    // private send(data: ILogMessage) {\n    //     this.socket.emit('data', data);\n    // }\n\n    // private addFile() {\n    //     this.mapFiles.set();\n    // }\n\n    // private onMessage(message) {}\n\n    /*\n    private converter(path: string) {\n        const filename = basename(path);\n        const fileDomains = filename.split('.');\n        let data: ILogData;\n\n        if (filename === sysLog) {\n            data = {\n                type: ELogTypes.sysLog,\n                message: filename,\n                created: +new Date(),\n                appId: 1,\n                appName: filename,\n                appType: fileDomains[0],\n                subType: fileDomains[1],\n                nodeId: 1,\n            };\n        } else {\n            data = {\n                type: ELogTypes.appLog,\n                message: filename,\n                created: +new Date(),\n                nodeId: 1,\n            };\n        }\n\n        return data;\n    }\n*/\n\n    isTrashData(data: string, filename: string) {\n        if (filename === this.sysLogsPath) {\n            return this.excludeSysLogRegexp.test(data);\n        } else {\n            return this.excludeAppLogRegexp.test(data);\n        }\n    }\n\n    _watch(filename: string) {\n        const info = this._parseFilename(filename);\n\n        if (!info.type) return;\n\n        const file: IFile = {\n            counter: 0,\n            lastChunk: null,\n            tail: spawn('tail', `-f ${filename}`.split(' ')),\n        };\n\n        this.mapFiles.set(filename, file);\n\n        file.tail.stdout.setEncoding('utf8');\n        file.tail.stdout.on('data', (_chunk) => {\n            const chunk = _chunk.toString().trim();\n\n            if (this.isTrashData(chunk, filename)) return;\n\n            if (chunk !== file.lastChunk) {\n                this.sendLog(chunk, info);\n            }\n            file.lastChunk = chunk;\n        });\n\n        file.tail.stderr.on('data', (data) => {\n            this.debug(`stderr: ${data.toString()}`);\n        });\n        file.tail.on('error', (error) => {\n            this.debug(`error: ${error.message}`);\n        });\n        file.tail.on('close', (code) => {\n            this.debug(`close ${code}`);\n        });\n    }\n\n    _watchAll() {\n        this._unwatchAll();\n        this._watch(this.sysLogsPath);\n\n        this.watcher = watch(this.appLogsPath, {\n            persistent: true,\n            awaitWriteFinish: {\n                stabilityThreshold: 200,\n                pollInterval: 1000,\n            },\n        });\n        console.log('watch', this.watcher.getWatched());\n\n        this.watcher\n            .on('add', (fname) => this._watch(fname))\n            .on('unlink', (fname) => this._unwatch(fname));\n    }\n\n    // send(receiver, data, tag = null) {\n    //     this.service.send(\n    //         JSON.stringify({\n    //             receiver,\n    //             data,\n    //             tag,\n    //         })\n    //     );\n    // }\n\n    sendLog(msg: string, info: any) {\n        const createdTime = Math.round(Date.now() / 1000);\n\n        switch (info.type) {\n            case ELogTypes.appLog:\n                this.socket.emit('data', {\n                    nodeId: this.nodeId,\n                    data: {\n                        type: info.type,\n                        message: msg,\n                        created: +createdTime,\n                        nodeId: +this.nodeId,\n                        appId: +info.appId,\n                        appType: info.appType,\n                        appName: info.appName,\n                        subType: info.subType,\n                    },\n                });\n                break;\n            case ELogTypes.sysLog:\n                this.socket.emit('data', {\n                    nodeId: this.nodeId,\n                    data: {\n                        type: info.type,\n                        message: msg,\n                        created: +createdTime,\n                        nodeId: +this.nodeId,\n                    },\n                });\n                break;\n        }\n    }\n\n    _unwatchAll() {\n        this.watcher && this.watcher.unwatch(this.appLogsPath);\n        this.mapFiles.forEach((item) => item.tail.kill('SIGINT'));\n        this.mapFiles.clear();\n    }\n\n    _unwatch(filename: string) {\n        if (this.mapFiles.has(filename)) {\n            this.mapFiles.get(filename)?.tail.kill('SIGINT');\n            this.mapFiles.delete(filename);\n        }\n    }\n\n    _parseFilename(filename: string) {\n        console.log('watching file', filename);\n        if (filename === sysLog) return { type: ELogTypes.sysLog };\n\n        const [appType, appId, appName, subType] = path\n            .basename(filename, '.log')\n            .replace('real--', '')\n            .split('--');\n\n        if (appType && appId) {\n            return {\n                type: ELogTypes.appLog,\n                appId,\n                appType,\n                appName,\n                subType,\n            };\n        }\n\n        return { type: null };\n    }\n\n    debug(message: string) {\n        const filename = '/var/log/logagent_debug.log';\n\n        try {\n            process.umask(0);\n\n            fs.appendFile(\n                `${filename}`,\n                new Date().toISOString() + '  ' + message + '\\n',\n                { mode: '777' },\n                (err) => {\n                    err && console.error(err.toString());\n                }\n            );\n        } catch (e) {}\n    }\n\n    async _onMessage(req: any) {\n        const { sender, error, data, tag } = JSON.parse(req);\n\n        if (sender === 'service_manager') {\n            console.error(error);\n            return;\n        }\n\n        try {\n            // const res = await Promise.resolve(this.onMessage(data, sender));\n\n            this.socket.emit('data', {\n                receiver: sender,\n                data,\n                tag,\n            });\n        } catch (e) {\n            this.socket.emit('data', {\n                receiver: sender,\n                error: e,\n                tag,\n            });\n        }\n    }\n}\n","export * from './lib/device';\nexport * from './lib/teranexNodeService';\nexport * from './lib/types';\n","import { Socket } from 'net';\nimport { IDeviceResponse } from '@socket/shared-types';\n\nexport class TeranexDevice {\n    private timeout = 2000;\n    private ip: string;\n    private port: number;\n    private response: IDeviceResponse;\n    private socket?: Socket;\n    public busy = false;\n\n    constructor(ip: string, port: number) {\n        this.ip = ip;\n        this.port = port;\n    }\n\n    connect() {\n        if (this.socket) {\n            this.destroy();\n        }\n\n        this.socket = new Socket();\n        this.socket.setEncoding('utf8');\n        this.socket.setTimeout(this.timeout);\n\n        return new Promise((resolve, reject) => {\n            this.response = {\n                resolve,\n                reject,\n                data: '',\n            };\n\n            this.socket.connect({ host: this.ip, port: this.port }, () =>\n                this.response.resolve()\n            );\n\n            this.socket.on(\n                'data',\n                (data) => (this.response.data += data.toString())\n            );\n\n            this.socket.on('error', (err) => this.response.reject(err));\n\n            this.socket.on('timeout', () =>\n                this.response.reject(Error('timeout'))\n            );\n        });\n    }\n\n    command(cmd: string, timeout = 0.7) {\n        return new Promise((resolve, reject) => {\n            this.response = {\n                resolve,\n                reject,\n                data: '',\n            };\n            this.socket.write(cmd, (error) => reject(error));\n            setTimeout(() => resolve(this.response.data), timeout * 1000);\n        });\n    }\n\n    destroy() {\n        this.socket?.end();\n    }\n}\n","import {\n    IClientCmdRequestEvent,\n    IDeviceResponseEvent,\n    NodeService,\n} from '@socket/shared-types';\nimport { TeranexDevice } from './device';\nimport { ITeranexDevices } from './types';\n\nexport class TeranexNodeService extends NodeService {\n    private devices: ITeranexDevices = {};\n\n    init() {\n        this.socket.on('connect', async () => {\n            this.socket.emit('init', { nodeId: this.nodeId });\n        });\n        this.socket.on('request', this.handleRequest.bind(this));\n        this.socket.on('error', (error) => console.log('Ooops: ', error));\n    }\n\n    private async handleRequest(data: IClientCmdRequestEvent) {\n        const { ip, port, commands } = data;\n        const deviceId = `${ip}:${port}`;\n        const device = await this.getDevice(deviceId);\n        try {\n            if (device.busy) {\n                this.socket.emit('response', {\n                    nodeId: this.nodeId,\n                    ip,\n                    port,\n                    error: 'Device is busy',\n                } as IDeviceResponseEvent);\n                return;\n            }\n\n            device.busy = true;\n            let data = [];\n            for (const cmd of commands) {\n                data.push(await device.command(cmd));\n            }\n            device.busy = false;\n            data = data.map((val) =>\n                val.replace(/\\n\\n/g, '\\n').replace(/ACK\\n/, '')\n            );\n            this.socket.emit('response', {\n                nodeId: this.nodeId,\n                ip,\n                port,\n                data,\n            } as IDeviceResponseEvent);\n        } catch (e) {\n            this.clearDevice(deviceId);\n            let error;\n            if (e.code === 'ECONNREFUSED') {\n                error = 'Device is unavailable';\n            } else if (e.message === 'timeout') {\n                error = 'Device timeout';\n            } else {\n                error = 'Device unknown error';\n            }\n            this.socket.emit('response', {\n                nodeId: this.nodeId,\n                ip,\n                port,\n                error,\n            } as IDeviceResponseEvent);\n        }\n    }\n\n    async getDevice(deviceId: string): Promise<TeranexDevice> {\n        if (this.devices[deviceId]) {\n            return this.devices[deviceId];\n        }\n        try {\n            const [ip, port] = deviceId.split(':');\n            const device = new TeranexDevice(ip, parseInt(port));\n            await device.connect();\n            await device.command('ping\\r\\n');\n            this.devices[deviceId] = device;\n        } catch (e) {\n            console.log('Ooops: ', e);\n            this.devices[deviceId] = null;\n        }\n        return this.devices[deviceId];\n    }\n\n    clearDevice(deviceId: string) {\n        this.devices[deviceId].destroy();\n        this.devices[deviceId] = null;\n    }\n}\n","export * from './lib/mainService';\nexport * from './lib/nodeService';\nexport * from './lib/logger';\nexport * from './lib/teranexService';\n","export enum ELogTypes {\n    appLog = 'appLog',\n    sysLog = 'sysLog',\n    all = 'all',\n}\n\nexport type ISysLogMessage = {\n    type: ELogTypes.sysLog;\n    message: string;\n    created: number;\n    appId: number;\n    appType: string;\n    appName: string;\n    subType: string;\n    nodeId: number;\n};\n\nexport type IAppLogMessage = {\n    type: ELogTypes.appLog;\n    message: string;\n    created: number;\n    nodeId: number;\n};\n\nexport type ILogData = {\n    nodeId: number;\n    data: ISysLogMessage | IAppLogMessage;\n};\n","import { io, Socket } from 'socket.io-client';\n\nexport abstract class NodeService {\n    protected nodeId: number;\n    protected url: string;\n    protected socket: Socket;\n\n    constructor(nodeId: number, url: string) {\n        this.nodeId = nodeId;\n        this.url = url;\n        this.socket = io(this.url);\n    }\n\n    abstract init(): void;\n\n    // protected send<T>(data: T): void {\n    //     throw TypeError('The child class must overrides \"send\" method.');\n    // }\n}\n","export * from './lib/nodeUtils';\n","import * as shell from 'child_process';\nimport { existsSync, readFileSync, writeFileSync } from 'fs';\n//todo: utils should not rely on any configs/ all utils functions should rely on args instead\nimport * as conf from './config.json';\n\nfunction exec(cmd: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n        shell.exec(cmd, (err: any, output: any) => {\n            err ? reject(err) : resolve(output);\n        });\n    });\n}\nasync function getNodeId(): Promise<number> {\n    let nodeId = null;\n    try {\n        const id = await exec('/usr/bin/php /root/dv_control_new.php hostname');\n        nodeId = Number.parseInt(id);\n    } catch (e) {\n        console.warn('NXT|WARNING: Cannot get node id');\n    }\n    return nodeId;\n}\n\nfunction currentTime() {\n    return Math.round(new Date().getTime() / 1000);\n}\n\nasync function getCache(key, saveCallback) {\n    let dataContent = null;\n\n    try {\n        const cacheFile = `${conf.logDir}${key}`;\n\n        let isExpired = false;\n\n        if (existsSync(cacheFile)) {\n            const { expires, data } = JSON.parse(\n                readFileSync(cacheFile, 'utf8')\n            );\n\n            if (+expires < this.currentTime()) {\n                isExpired = true;\n            } else {\n                dataContent = data;\n            }\n        } else {\n            isExpired = true;\n        }\n\n        if (isExpired) {\n            dataContent = await saveCallback();\n\n            setTimeout(() => {\n                writeFileSync(\n                    cacheFile,\n                    JSON.stringify({\n                        expires: this.currentTime() + 1800,\n                        data: dataContent || null,\n                    })\n                );\n            });\n        }\n    } catch (e) {\n        dataContent = null;\n    }\n\n    return Promise.resolve(dataContent || null);\n}\n\nexport { exec, getNodeId, currentTime, getCache };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0x00) {  // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0  // overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0  // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = isValidUTF8;\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = global;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.installTimerFunctions = exports.transports = exports.Transport = exports.protocol = exports.Socket = void 0;\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nexports.protocol = socket_js_1.Socket.protocol;\nvar transport_js_1 = require(\"./transport.js\");\nObject.defineProperty(exports, \"Transport\", { enumerable: true, get: function () { return transport_js_1.Transport; } });\nvar index_js_1 = require(\"./transports/index.js\");\nObject.defineProperty(exports, \"transports\", { enumerable: true, get: function () { return index_js_1.transports; } });\nvar util_js_1 = require(\"./util.js\");\nObject.defineProperty(exports, \"installTimerFunctions\", { enumerable: true, get: function () { return util_js_1.installTimerFunctions; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst index_js_1 = require(\"./transports/index.js\");\nconst util_js_1 = require(\"./util.js\");\nconst parseqs_1 = __importDefault(require(\"parseqs\"));\nconst parseuri_1 = __importDefault(require(\"parseuri\"));\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug = (0, debug_1.default)(\"engine.io-client:socket\"); // debug()\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = (0, parseuri_1.default)(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = (0, parseuri_1.default)(opts.host).host;\n        }\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = parseqs_1.default.decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\");\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = clone(this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = engine_io_parser_1.protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        debug(\"options: %j\", opts);\n        return new index_js_1.transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", () => {\n            this.onClose(\"transport close\");\n        });\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n            this.transport.send(this.writeBuffer);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = this.writeBuffer.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, desc) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, desc);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nexports.Socket = Socket;\nSocket.protocol = engine_io_parser_1.protocol;\nfunction clone(obj) {\n    const o = {};\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = obj[i];\n        }\n    }\n    return o;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = void 0;\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst util_js_1 = require(\"./util.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = (0, debug_1.default)(\"engine.io-client:transport\"); // debug()\nclass Transport extends component_emitter_1.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} str\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(msg, desc) {\n        const err = new Error(msg);\n        // @ts-ignore\n        err.type = \"TransportError\";\n        // @ts-ignore\n        err.description = desc;\n        super.emit(\"error\", err);\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emit(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = (0, engine_io_parser_1.decodePacket)(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose() {\n        this.readyState = \"closed\";\n        super.emit(\"close\");\n    }\n}\nexports.Transport = Transport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transports = void 0;\nconst polling_xhr_js_1 = require(\"./polling-xhr.js\");\nconst websocket_js_1 = require(\"./websocket.js\");\nexports.transports = {\n    websocket: websocket_js_1.WS,\n    polling: polling_xhr_js_1.XHR\n};\n","\"use strict\";\n/* global attachEvent */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Request = exports.XHR = void 0;\nconst xmlhttprequest_js_1 = __importDefault(require(\"./xmlhttprequest.js\"));\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst globalThis_js_1 = __importDefault(require(\"../globalThis.js\"));\nconst util_js_1 = require(\"../util.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst polling_js_1 = require(\"./polling.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:polling-xhr\"); // debug()\n/**\n * Empty function\n */\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new xmlhttprequest_js_1.default({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nclass XHR extends polling_js_1.Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", err => {\n            this.onError(\"xhr post error\", err);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", err => {\n            this.onError(\"xhr poll error\", err);\n        });\n        this.pollXhr = req;\n    }\n}\nexports.XHR = XHR;\nclass Request extends component_emitter_1.Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = (0, util_js_1.pick)(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new xmlhttprequest_js_1.default(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon successful response.\n     *\n     * @api private\n     */\n    onSuccess() {\n        this.emit(\"success\");\n        this.cleanup();\n    }\n    /**\n     * Called if we have data.\n     *\n     * @api private\n     */\n    onData(data) {\n        this.emit(\"data\", data);\n        this.onSuccess();\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emit(\"error\", err);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.onData(data);\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nexports.Request = Request;\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis_js_1.default ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Polling = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst yeast_1 = __importDefault(require(\"yeast\"));\nconst parseqs_1 = __importDefault(require(\"parseqs\"));\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug = (0, debug_1.default)(\"engine.io-client:polling\"); // debug()\nclass Polling extends transport_js_1.Transport {\n    constructor() {\n        super(...arguments);\n        this.polling = false;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emit(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose();\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        (0, engine_io_parser_1.decodePayload)(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emit(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        (0, engine_io_parser_1.encodePayload)(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emit(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_1.default)();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = parseqs_1.default.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n}\nexports.Polling = Polling;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextTick = exports.defaultBinaryType = exports.usingBrowserWebSocket = exports.WebSocket = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nexports.WebSocket = ws_1.default;\nexports.usingBrowserWebSocket = false;\nexports.defaultBinaryType = \"nodebuffer\";\nexports.nextTick = process.nextTick;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WS = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst parseqs_1 = __importDefault(require(\"parseqs\"));\nconst yeast_1 = __importDefault(require(\"yeast\"));\nconst util_js_1 = require(\"../util.js\");\nconst websocket_constructor_js_1 = require(\"./websocket-constructor.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug = (0, debug_1.default)(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nclass WS extends transport_js_1.Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : (0, util_js_1.pick)(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                websocket_constructor_js_1.usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new websocket_constructor_js_1.WebSocket(uri, protocols)\n                        : new websocket_constructor_js_1.WebSocket(uri)\n                    : new websocket_constructor_js_1.WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emit(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || websocket_constructor_js_1.defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = this.onClose.bind(this);\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            (0, engine_io_parser_1.encodePacket)(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!websocket_constructor_js_1.usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (websocket_constructor_js_1.usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    (0, websocket_constructor_js_1.nextTick)(() => {\n                        this.writable = true;\n                        this.emit(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_1.default)();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = parseqs_1.default.encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return (!!websocket_constructor_js_1.WebSocket &&\n            !(\"__initialize\" in websocket_constructor_js_1.WebSocket && this.name === WS.prototype.name));\n    }\n}\nexports.WS = WS;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst XMLHttpRequestModule = __importStar(require(\"xmlhttprequest-ssl\"));\nconst XMLHttpRequest = XMLHttpRequestModule.default || XMLHttpRequestModule;\nexports.default = XMLHttpRequest;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.installTimerFunctions = exports.pick = void 0;\nconst globalThis_js_1 = __importDefault(require(\"./globalThis.js\"));\nfunction pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\nexports.pick = pick;\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nfunction installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis_js_1.default);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis_js_1.default);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis_js_1.default);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis_js_1.default);\n    }\n}\nexports.installTimerFunctions = installTimerFunctions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_PACKET = exports.PACKET_TYPES_REVERSE = exports.PACKET_TYPES = void 0;\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nexports.PACKET_TYPES = PACKET_TYPES;\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nexports.PACKET_TYPES_REVERSE = PACKET_TYPES_REVERSE;\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexports.ERROR_PACKET = ERROR_PACKET;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commons_js_1 = require(\"./commons.js\");\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType)\n        };\n    }\n    if (!commons_js_1.PACKET_TYPES_REVERSE[type]) {\n        return commons_js_1.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type]\n        };\n};\nconst mapBinary = (data, binaryType) => {\n    const isBuffer = Buffer.isBuffer(data);\n    switch (binaryType) {\n        case \"arraybuffer\":\n            return isBuffer ? toArrayBuffer(data) : data;\n        case \"nodebuffer\":\n        default:\n            return data; // assuming the data is already a Buffer\n    }\n};\nconst toArrayBuffer = (buffer) => {\n    const arrayBuffer = new ArrayBuffer(buffer.length);\n    const view = new Uint8Array(arrayBuffer);\n    for (let i = 0; i < buffer.length; i++) {\n        view[i] = buffer[i];\n    }\n    return arrayBuffer;\n};\nexports.default = decodePacket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commons_js_1 = require(\"./commons.js\");\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        const buffer = toBuffer(data);\n        return callback(encodeBuffer(buffer, supportsBinary));\n    }\n    // plain string\n    return callback(commons_js_1.PACKET_TYPES[type] + (data || \"\"));\n};\nconst toBuffer = data => {\n    if (Buffer.isBuffer(data)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\n// only 'message' packets can contain binary, so the type prefix is not needed\nconst encodeBuffer = (data, supportsBinary) => {\n    return supportsBinary ? data : \"b\" + data.toString(\"base64\");\n};\nexports.default = encodePacket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePayload = exports.decodePacket = exports.encodePayload = exports.encodePacket = exports.protocol = void 0;\nconst encodePacket_js_1 = require(\"./encodePacket.js\");\nexports.encodePacket = encodePacket_js_1.default;\nconst decodePacket_js_1 = require(\"./decodePacket.js\");\nexports.decodePacket = decodePacket_js_1.default;\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        (0, encodePacket_js_1.default)(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nexports.encodePayload = encodePayload;\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = (0, decodePacket_js_1.default)(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexports.decodePayload = decodePayload;\nexports.protocol = 4;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.connect = exports.io = exports.Socket = exports.Manager = exports.protocol = void 0;\nconst url_js_1 = require(\"./url.js\");\nconst manager_js_1 = require(\"./manager.js\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_js_1.Manager; } });\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_js_1.url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_js_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_js_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\nexports.connect = lookup;\nexports.default = lookup;\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager: manager_js_1.Manager,\n    Socket: socket_js_1.Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n\nmodule.exports = lookup;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst engine_io_client_1 = require(\"engine.io-client\");\nconst socket_js_1 = require(\"./socket.js\");\nconst parser = __importStar(require(\"socket.io-parser\"));\nconst on_js_1 = require(\"./on.js\");\nconst backo2_1 = __importDefault(require(\"backo2\"));\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:manager\"); // debug()\nclass Manager extends component_emitter_1.Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        engine_io_client_1.installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new backo2_1.default({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new engine_io_client_1.Socket(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_js_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on_js_1.on(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_js_1.on(socket, \"ping\", this.onping.bind(this)), on_js_1.on(socket, \"data\", this.ondata.bind(this)), on_js_1.on(socket, \"error\", this.onerror.bind(this)), on_js_1.on(socket, \"close\", this.onclose.bind(this)), on_js_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_js_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst on_js_1 = require(\"./on.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.disconnected = true;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_js_1.on(io, \"open\", this.onopen.bind(this)),\n            on_js_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_js_1.on(io, \"error\", this.onerror.bind(this)),\n            on_js_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri_1 = __importDefault(require(\"parseuri\"));\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri_1.default(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_js_1 = require(\"./is-binary.js\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_js_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst binary_js_1 = require(\"./binary.js\");\nconst is_binary_js_1 = require(\"./is-binary.js\");\nconst debug_1 = require(\"debug\"); // debug()\nconst debug = debug_1.default(\"socket.io-parser\"); // debug()\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_js_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_js_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends component_emitter_1.Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_js_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_js_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","import { getNodeId } from '@socket/shared-utils';\nimport { LoggerNodeService } from '@socket/node-services-logger';\nimport { TeranexNodeService } from '@socket/node-services-teranex';\n\nimport * as config from './config.json';\n\nconst {\n    logAgent: {\n        applogDir,\n        syslogFile,\n        excludeMessages,\n        serviceUrl: loggerServiceUrl,\n    },\n    teranex: { serviceUrl: teranexServiceUrl },\n} = config;\n\ngetNodeId().then((id) => {\n    if (id === null) return;\n    new LoggerNodeService(\n        id,\n        loggerServiceUrl,\n        applogDir,\n        syslogFile,\n        excludeMessages\n    ).init();\n    new TeranexNodeService(id, teranexServiceUrl).init();\n});\n"],"names":["Emitter","obj","key","prototype","mixin","exports","on","addEventListener","event","fn","this","_callbacks","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","cb","callbacks","i","splice","emit","args","Array","len","slice","emitReserved","listeners","hasListeners","Object","defineProperty","value","picomatch","normalizePath","DEFAULT_OPTIONS","returnIndex","matchPatterns","patterns","negPatterns","isList","isArray","_path","TypeError","toString","call","path","index","nglob","applied","concat","pattern","anymatch","matchers","testString","options","opts","mtchers","item","negatedGlobs","filter","charAt","map","matcher","glob","string","RegExp","test","createPattern","ri","default","module","Backoff","ms","min","max","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","stringify","compile","expand","parse","braces","input","output","result","create","nodupes","Set","noempty","Boolean","fill","utils","ast","walk","node","parent","invalidBlock","isInvalidBrace","invalidNode","invalid","escapeInvalid","prefix","isOpen","isClose","type","prev","nodes","ranges","reduce","range","wrap","toRegex","child","MAX_LENGTH","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKSLASH","CHAR_BACKTICK","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOLLAR","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","append","queue","stash","enclose","flatten","ele","rangeLimit","p","q","dollar","pop","exceedsLimit","step","RangeError","encloseBrace","block","maxLength","SyntaxError","stack","brackets","depth","advance","open","shift","commas","siblings","before","close","next","keepQuotes","keepEscaping","forEach","indexOf","isOpenOrClose","isInteger","num","Number","trim","find","limit","escapeNode","n","escaped","acc","flat","arr","mask","source","offset","unmask","buffer","__dirname","e","fs","sysPath","readdirp","globParent","isGlob","NodeFsHandler","FsEventsHandler","stat","promisify","readdir","arrify","list","unifyPaths","paths_","paths","every","STRING_TYPE","normalizePathToUnix","toUnix","str","replace","BACK_SLASH_RE","SLASH","prepend","startsWith","SLASH_SLASH","match","DOUBLE_SLASH_RE","normalize","normalizeIgnored","cwd","EMPTY_STR","isAbsolute","join","undef","undefined","DirEntry","constructor","dir","removeWatcher","_removeWatcher","items","add","ONE_DOT","TWO_DOTS","async","delete","size","err","dirname","basename","has","getChildren","values","dispose","clear","freeze","WatchHelper","watchPath","follow","fsw","REPLACER_RE","fullWatchPath","resolve","hasGlob","globSymlink","globFilter","ANYMATCH_OPTS","dirParts","getDirParts","parts","followSymlinks","statMethod","checkGlobSymlink","entry","fullParentDir","realPath","linkPath","fullPath","entryPath","relative","filterPath","stats","isSymbolicLink","filterDir","resolvedPath","FUNCTION_TYPE","_isntIgnored","_hasReadPermissions","includes","BRACE_START","split","SLASH_OR_BACK_SLASH_RE","entryParts","globstar","unmatchedGlob","some","part","GLOBSTAR","FSWatcher","EventEmitter","_opts","super","assign","_watched","Map","_closers","_ignoredPaths","_throttled","_symlinkPaths","_streams","closed","persistent","ignoreInitial","ignorePermissionErrors","interval","binaryInterval","disableGlobbing","enableBinaryInterval","useFsEvents","usePolling","canUse","isMacos","isIBMi","envPoll","process","env","CHOKIDAR_USEPOLLING","envLower","toLowerCase","envInterval","CHOKIDAR_INTERVAL","parseInt","atomic","_pendingUnlinks","awaitWriteFinish","awf","stabilityThreshold","pollInterval","_pendingWrites","ignored","readyCalls","_emitReady","_readyCount","EMPTY_FN","_readyEmitted","nextTick","EV_READY","_emitRaw","EV_RAW","_fsEventsHandler","_nodeFsHandler","_origAdd","_internal","absPath","BANG","getAbsolutePath","SLASH_GLOBSTAR","_userIgnored","_addToFsEvents","Promise","all","res","_addToNodeFs","then","results","unwatch","_closePath","_closePromise","closers","closerList","closer","promise","stream","destroy","dirent","getWatched","watchList","sort","emitWithAll","EV_ERROR","EV_ALL","val1","val2","val3","isWindows","pw","get","lastChange","Date","EV_UNLINK","set","setTimeout","EV_ADD","EV_CHANGE","awfEmit","_awaitWriteFinish","_throttle","alwaysStat","EV_ADD_DIR","_handleError","error","code","actionType","timeout","action","actionPath","count","timeoutObject","clearTimeout","thr","_incrReadyCount","threshold","timeoutHandler","now","prevStat","curStat","cancelWait","_getGlobIgnored","_isIgnored","DOT_RE","ign","_getWatchHelpers","_getWatchedDir","directory","_boundRemove","_remove","bind","st","mode","it","isDirectory","nested","wasTracked","remove","relPath","eventName","EV_UNLINK_DIR","_emit","_closeFile","_addPathCloser","_readdirp","root","lstat","STR_CLOSE","STR_END","watch","watcher","os","STR_DATA","FSEVENT_CREATED","FSEVENT_MODIFIED","FSEVENT_DELETED","FSEVENT_MOVED","FSEVENT_CLONED","FSEVENT_UNKNOWN","FSEVENT_TYPE_FILE","FSEVENT_TYPE_DIRECTORY","FSEVENT_TYPE_SYMLINK","KEY_LISTENERS","KEY_ERR","KEY_RAW","HANDLER_KEYS","DOT_SLASH","sep","STAR","ROOT_GLOBSTAR","DIR_SUFFIX","dot","IDENTITY_FN","val","platform","isLinux","fsevents","CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR","console","mtch","version","maj","realpath","statMethods","FSEventsWatchers","wrongEventFlags","createFSEventsInstance","callback","stop","couldConsolidate","keys","calcDepth","sameTypes","info","isFile","checkIgnored","ipaths","addOrChange","watchedDir","handleEvent","curDepth","_watchWithFsEvents","transform","listener","rawEmitter","extname","parentPath","cont","hasSymlink","filteredListener","flags","watchedParent","watchedPath","getInfo","lst","setFSEventsListener","checkExists","linkTarget","aliasedPath","emitAdd","newPath","processPath","forceAdd","pp","isDir","dirObj","base","initWatch","wh","priorDepth","fileFilter","directoryFilter","isNaN","joinedPath","_handleFsEventsSymlink","isBinaryPath","fsrealpath","foreach","addAndConvert","main","prop","container","delFromSet","isEmptySet","FsWatchInstances","createFsWatchInstance","errHandler","emitRaw","rawEvent","evPath","fsWatchBroadcast","setFsWatchListener","handlers","broadcastErr","watcherUnusable","fd","errHandlers","rawEmitters","clearItem","FsWatchFileInstances","fsW","_boundHandleError","_watchWithNodeFs","absolutePath","copts","unwatchFile","watchFile","curr","currmtime","mtimeMs","setFsWatchFileListener","_handleFile","file","initialAdd","prevStats","newStats","at","atimeMs","mt","ino","full","_handleRead","target","throttler","previous","current","_handleSymlink","wasThrottled","parentDir","tracked","oDepth","dirPath","priorWh","ready","targetPath","_handleDir","formatArgs","useColors","namespace","humanize","diff","c","color","lastC","save","namespaces","storage","setItem","removeItem","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","warned","warn","colors","log","debug","formatters","j","v","JSON","message","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","coerce","unshift","format","formatter","selectColor","extend","enumerable","configurable","init","delimiter","newDebug","toNamespace","regexp","substring","Error","disable","names","skips","enable","name","hash","charCodeAt","abs","browser","tty","util","inspectOpts","stderr","write","colorCode","hideDate","toISOString","getDate","isatty","deprecate","supportsColor","level","_","k","toUpperCase","o","inspect","O","WebSocket","createWebSocketStream","Server","Receiver","Sender","WebSocketServer","totalLength","EMPTY_BUFFER","Buffer","allocUnsafe","buf","_mask","_unmask","toArrayBuffer","byteLength","byteOffset","toBuffer","data","readOnly","isBuffer","ArrayBuffer","from","isView","bufferUtil","BINARY_TYPES","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","CloseEvent","reason","wasClean","ErrorEvent","MessageEvent","EventTarget","wrapper","isBinary","_closeFrameReceived","_closeFrameSent","handler","dest","elem","extensions","extension","configurations","params","header","offers","extensionName","paramName","mustUnescape","isEscaping","inQuotes","start","end","tokenChars","token","kDone","kRun","Limiter","concurrency","pending","Infinity","jobs","job","zlib","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","deflateOnData","chunk","inflateOnData","_maxPayload","inflateOnError","_inflate","PerMessageDeflate","isServer","maxPayload","_options","_threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","accepted","response","decompress","fin","done","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","flush","_readableState","endEmitted","createDeflateRaw","zlibDeflateOptions","Z_SYNC_FLUSH","ErrorCtor","statusCode","errorCode","captureStackTrace","Writable","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","startLoop","consume","dst","Uint8Array","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","controlMessage","dataMessage","er","messageLength","fragments","isValidUTF8","isValidStatusCode","applyMask","socket","_socket","_firstFragment","_deflating","_queue","static","merge","payloadLength","opcode","rsv1","writeUInt16BE","writeUInt32BE","randomFillSync","enqueue","doClose","sendFrame","frame","ping","doPing","pong","doPong","send","perMessageDeflate","binary","dispatch","destroyed","dequeue","Reflect","cork","uncork","emitClose","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","ws","resumeOnReceiverDrain","terminateOnDestroy","receiverOnDrain","resume","readyState","CONNECTING","_receiver","duplex","Duplex","autoDestroy","objectMode","writableObjectMode","msg","pause","_destroy","CLOSED","called","terminate","_final","_read","OPEN","needDrain","protocols","protocol","_isValidUTF8","http","subprotocol","keyRegex","server","socketOnError","abortHandshake","headers","writable","STATUS_CODES","Connection","h","handleProtocols","clientTracking","verifyClient","noServer","backlog","host","port","_server","createServer","req","body","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","head","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","url","method","secWebSocketProtocol","secWebSocketExtensions","origin","secure","authorized","encrypted","verified","completeUpgrade","readable","createHash","update","digest","_protocol","setSocket","https","net","tls","readyStates","subprotocolRegex","protocolVersions","_closeCode","_closeMessage","_closeTimer","_readyState","_sender","_bufferedAmount","_redirects","initAsClient","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiver","receiverOnConclude","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setNoDelay","socketOnClose","socketOnData","socketOnEnd","_req","CLOSING","errorEmitted","sendAfterClose","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","hostname","parsedUrl","URL","href","isSecure","isUnixSocket","pathname","defaultPort","randomBytes","protocolSet","tlsConnect","netConnect","Upgrade","search","handshakeTimeout","Origin","username","password","auth","aborted","location","abort","addr","serverProt","protError","extensionNames","connect","servername","isIP","setHeader","receiverOnFinish","read","property","toRegexRange","isObject","isValidValue","isNumber","zeros","pad","toNumber","dash","padStart","String","toMaxLen","negative","toRange","a","b","isNumbers","fromCharCode","capture","rangeError","invalidRange","strictRanges","fillNumbers","descending","startString","endString","stepString","padded","maxLen","negatives","positives","toSequence","fillLetters","invalidStep","Native","events","constants","getFileType","ItemIsFile","ItemIsDir","ItemIsSymlink","getEventType","ItemRemoved","ItemRenamed","ItemCreated","ItemModified","RootChanged","ItemCloned","anyIsTrue","getFileChanges","inode","ItemInodeMetaMod","finder","ItemFinderInfoMod","access","ItemChangeOwner","xattrs","ItemXattrMod","since","SinceNow","instance","global","changes","pathPosixDirname","isWin32","backslash","enclosure","globby","flipBackslashes","flag","argv","position","terminatorPosition","binaryExtensions","filePath","exec","isExtglob","chars","strictCheck","pipeIndex","closeSquareIndex","closeCurlyIndex","closeParenIndex","backSlashIndex","relaxedCheck","check","strict","isFinite","s","m","d","w","y","plural","msAbs","isPlural","round","parseFloat","long","fmtLong","fmtShort","runtimeRequire","vars","config","variables","prebuildsOnly","PREBUILDS_ONLY","abi","versions","modules","runtime","electron","ELECTRON_RUN_AS_NODE","arch","libc","LIBC","existsSync","isAlpine","armv","ARM_VERSION","arm_version","uv","readdirSync","getFirst","files","matchBuild","parseTuple","architectures","matchTuple","tuple","compareTuples","parseTags","tags","specificity","tag","napi","matchTags","runtimeAgnostic","compareTags","release","prebuild","nearby","execPath","prebuilds","winner","dlopen","stripTrailing","ch","segs","encode","hasOwnProperty","encodeURIComponent","decode","qs","qry","pairs","l","pair","decodeURIComponent","re","src","query","uri","authority","ipv6uri","pathNames","regx","substr","queryKey","$0","$2","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","DOTS_SLASH","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","START_ANCHOR","WINDOWS_CHARS","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_BACKWARD_SLASH","CHAR_GRAVE_ACCENT","SEP","extglobChars","globChars","win32","expandRange","ex","escapeRegex","syntaxError","char","bos","tokens","PLATFORM_CHARS","EXTGLOB_CHARS","nodot","qmarkNoDot","star","bash","noext","noextglob","state","consumed","backtrack","negated","parens","quotes","removePrefix","extglobs","eos","peek","remaining","negate","increment","decrement","tok","isBrace","extglob","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","expression","fastpaths","negatedExtglob","backslashes","esc","first","repeat","unescape","contains","wrapOutput","slashes","posix","idx","lastIndexOf","pre","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","nobrace","outputIndex","tokensIndex","brace","dots","comma","out","toks","t","supportsLookbehinds","nonegate","regex","noglobstar","prior","isStart","afterStar","after","strictSlashes","escapeLast","suffix","slashDot","scan","returnState","fns","arrayMatcher","isMatch","isState","compileRe","makeRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","returnObject","onIgnore","toPosixSlashes","matchBase","returnOutput","parsed","nocase","isPathSeparator","isPrefix","isGlobstar","scanToEnd","lastIndex","isBracket","braceEscaped","noparen","removeBackslashes","maxDepth","prevIndex","isRegexChar","windows","lastIdx","NORMAL_FLOW_ERRORS","FILE_TYPE","DIR_TYPE","FILE_DIR_TYPE","EVERYTHING_TYPE","ALL_TYPES","wantBigintFsStats","normalizeFilter","positive","trimmed","f","ReaddirpStream","Readable","defaultOptions","highWaterMark","_fileFilter","_directoryFilter","_stat","bigint","_maxDepth","_wantsDir","_wantsFile","_wantsEverything","_root","_isDirent","_statsProp","_rdOptions","withFileTypes","parents","_exploreDir","reading","batch","_formatEntry","entryType","_getEntryType","_includeAsFile","_onError","entryRealPath","entryRealPathStats","recursiveError","reject","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","stdout","relaxZeros","strictZeros","cacheKey","shorthand","cache","isPadded","hasPadding","splitToPatterns","neg","pos","onlyNegative","filterPatterns","onlyPositive","intersected","collatePatterns","rangeToPattern","digits","zipped","zip","startDigit","stopDigit","toCharacterClass","nines","countNines","stops","countZeros","compare","splitToRanges","padZeros","toQuantifier","comparison","intersection","integer","relax","clearCache","LoggerNodeService","NodeService","nodeId","appLogsPath","sysLogsPath","exclude","mapFiles","excludeAppLogRegexp","applog","excludeSysLogRegexp","syslog","_watchAll","jsonData","_onMessage","isTrashData","filename","_watch","_parseFilename","counter","lastChunk","tail","spawn","setEncoding","_chunk","sendLog","_unwatchAll","fname","_unwatch","createdTime","ELogTypes","appLog","created","appId","appType","appName","subType","sysLog","kill","umask","appendFile","sender","TeranexDevice","ip","busy","Socket","command","cmd","TeranexNodeService","devices","handleRequest","deviceId","device","getDevice","commands","clearDevice","io","shell","getNodeId","id","currentTime","getTime","getCache","saveCallback","dataContent","cacheFile","conf","logDir","isExpired","readFileSync","expires","writeFileSync","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","g","label","sent","trys","ops","verb","iterator","op","__createBinding","k2","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","jl","__spreadArray","to","pack","__await","__asyncGenerator","asyncIterator","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","kind","__classPrivateFieldSet","Url","XMLHttpRequest","request","settings","disableHeaderCheck","defaultHeaders","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","user","isAllowedHttpMethod","setState","setDisableHeaderCheck","setRequestHeader","isAllowedHttpHeader","getResponseHeader","getAllResponseHeaders","getRequestHeader","ssl","local","readFile","handleError","errno","authBuf","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","newOptions","errorHandler","autoUnref","unref","contentFile","pid","syncFile","execString","syncProc","stdin","unlinkSync","errorObj","ev","setImmediate","fire","alphabet","seed","encoded","yeast","decoded","require","installTimerFunctions","transports","Transport","socket_js_1","transport_js_1","index_js_1","util_js_1","parseqs_1","parseuri_1","debug_1","component_emitter_1","engine_io_parser_1","writeBuffer","prevBufferLen","withCredentials","timestampParam","rememberUpgrade","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","offlineEventListener","onClose","createTransport","clone","EIO","sid","priorWebsocketSuccess","setTimeoutFn","setTransport","onDrain","onPacket","onError","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","onOpen","packet","onHandshake","resetPingTimeout","sendPacket","filterUpgrades","clearTimeoutFn","cleanupAndClose","waitForUpgrade","filteredUpgrades","description","doOpen","packets","onData","decodePacket","polling_xhr_js_1","websocket_js_1","WS","polling","XHR","Request","xmlhttprequest_js_1","globalThis_js_1","polling_js_1","empty","hasXHR2","xdomain","responseType","Polling","isSSL","xd","xs","forceBase64","supportsBinary","doWrite","doPoll","pollXhr","pick","xscheme","xhr","extraHeaders","requestTimeout","onLoad","requestsCount","requests","onSuccess","fromError","attachEvent","unloadHandler","terminationEvent","yeast_1","poll","onPause","total","decodePayload","encodePayload","schema","timestampRequests","b64","encodedQuery","defaultBinaryType","usingBrowserWebSocket","ws_1","websocket_constructor_js_1","isReactNative","product","addEventListeners","lastPacket","encodePacket","XMLHttpRequestModule","attr","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","useNativeTimers","ERROR_PACKET","PACKET_TYPES_REVERSE","PACKET_TYPES","commons_js_1","mapBinary","arrayBuffer","view","encodedPacket","encodeBuffer","encodePacket_js_1","decodePacket_js_1","SEPARATOR","encodedPackets","encodedPayload","decodedPacket","Manager","url_js_1","manager_js_1","lookup","sameNamespace","forceNew","multiplex","socket_io_parser_1","engine_io_client_1","parser","on_js_1","backo2_1","_a","nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","engine","skipReconnect","openSubDestroy","errorSub","timer","onping","ondata","ondecoded","nsp","active","_close","_packet","subDestroy","disconnect","delay","onreconnect","attempt","RESERVED_EVENTS","connect_error","disconnecting","newListener","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","subEvents","onpacket","PacketType","EVENT","ack","_registerAckCallback","isTransportWritable","volatile","CONNECT","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","emitBuffered","onAny","prependAny","offAny","listenersAny","loc","reconstructPacket","deconstructPacket","is_binary_js_1","_deconstructPacket","buffers","placeholder","_placeholder","newData","_reconstructPacket","packetData","attachments","binary_js_1","hasBinary","encodeAsString","encodeAsBinary","deconstruction","decodeString","reconstructor","BinaryReconstructor","base64","takeBinaryData","payload","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","withNativeArrayBuffer","withNativeBlob","Blob","withNativeFile","File","toJSON","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","definition","toStringTag","nmd","children","logAgent","serviceUrl","loggerServiceUrl","teranex","teranexServiceUrl","applogDir","syslogFile","excludeMessages"],"sourceRoot":""}